{"version":3,"sources":["../../../src/components/Tabs/TabItem.tsx"],"names":["React","forwardRef","useRef","useContext","useEffect","styled","css","useForkRef","applyEllipsis","TabsContext","StyledTabItemContentLeft","span","StyledTabItemText","StyledTabItem","button","disabled","isChildren","isContentLeft","TabItem","outerRef","children","contentLeft","isActive","role","rest","innerRef","ref","refs","register","unregister"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,MAA5B,EAAoCC,UAApC,EAAgDC,SAAhD,QAAiE,OAAjE;AACA,OAAOC,MAAP,IAAiBC,GAAjB,QAA4B,mBAA5B;AAEA,SAASC,UAAT,QAA2B,aAA3B;AACA,SAASC,aAAT,QAA8B,cAA9B;AAGA,SAASC,WAAT,QAA4B,eAA5B;;AAmBA;AACA;AACA;AACA;AACA;AACA,IAAMC,wBAAwB,gBAAGL,MAAM,CAACM,IAAV;AAAA;AAAA,qBAA9B;AAIA;AACA;AACA;AACA;;AACA,IAAMC,iBAAiB,gBAAGP,MAAM,CAACM,IAAV;AAAA;AAAA,oGAGjBH,aAHiB,EAMjBE,wBANiB,CAAvB;AAgBA,OAAO,IAAMG,aAAa,gBAAGR,MAAM,CAACS,MAAV;AAAA;AAAA,gOAmBpB;AAAA,MAAGC,QAAH,QAAGA,QAAH;AAAA,SACEA,QAAQ,IACRT,GADQ,0BADV;AAAA,CAnBoB,EA4BpB;AAAA,MAAGU,UAAH,SAAGA,UAAH;AAAA,SACE,CAACA,UAAD,IACAV,GADA,kEADF;AAAA,CA5BoB,EAuCpB;AAAA,MAAGW,aAAH,SAAGA,aAAH;AAAA,SACEA,aAAa,IACbX,GADa,qGADf;AAAA,CAvCoB,CAAnB;AA+CP;AACA;AACA;AACA;;AACA,OAAO,IAAMY,OAAO,gBAAGjB,UAAU,CAAkC,SAASiB,OAAT,QAE/DC,QAF+D,EAGjE;AAAA,MAFIC,QAEJ,SAFIA,QAEJ;AAAA,MAFcC,WAEd,SAFcA,WAEd;AAAA,MAF2BC,QAE3B,SAF2BA,QAE3B;AAAA,yBAFqCC,IAErC;AAAA,MAFqCA,IAErC,2BAF4C,KAE5C;AAAA,MAFsDC,IAEtD;;AACE,MAAMC,QAAQ,GAAGvB,MAAM,CAAoB,IAApB,CAAvB;AACA,MAAMwB,GAAG,GAAGnB,UAAU,CAACY,QAAD,EAAWM,QAAX,CAAtB;;AACA,oBAAiBtB,UAAU,CAACM,WAAD,CAA3B;AAAA,MAAQkB,IAAR,eAAQA,IAAR;;AAEAvB,EAAAA,SAAS,CAAC,YAAM;AACZuB,IAAAA,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEC,QAAN,CAAeH,QAAf;AACA,WAAO;AAAA,aAAME,IAAN,aAAMA,IAAN,uBAAMA,IAAI,CAAEE,UAAN,CAAiBJ,QAAjB,CAAN;AAAA,KAAP;AACH,GAHQ,EAGN,CAACE,IAAD,CAHM,CAAT;AAKA,sBACI,oBAAC,aAAD;AACI,IAAA,GAAG,EAAED,GADT;AAEI,IAAA,UAAU,EAAE,CAAC,CAACN,QAFlB;AAGI,IAAA,aAAa,EAAE,CAAC,CAACC,WAHrB;AAII,IAAA,QAAQ,EAAEC,QAJd;AAKI,qBAAeA,QALnB;AAMI,IAAA,IAAI,EAAEC;AANV,KAOQC,IAPR,GASKH,WAAW,iBAAI,oBAAC,wBAAD;AAA0B;AAA1B,KAAuCA,WAAvC,CATpB,EAUKD,QAAQ,iBAAI,oBAAC,iBAAD;AAAmB,IAAA,QAAQ,EAAE,CAAC;AAA9B,KAAkCA,QAAlC,CAVjB,CADJ;AAcH,CA3BgC,CAA1B","sourcesContent":["import React, { forwardRef, useRef, useContext, useEffect } from 'react';\nimport styled, { css } from 'styled-components';\n\nimport { useForkRef } from '../../hooks';\nimport { applyEllipsis } from '../../mixins';\nimport { AsProps } from '../../types';\n\nimport { TabsContext } from './TabsContext';\n\ninterface StyledTabItemProps {\n    isActive?: boolean;\n    isChildren?: boolean;\n    isContentLeft?: boolean;\n}\n\nexport interface TabItemProps extends AsProps, React.ButtonHTMLAttributes<HTMLButtonElement> {\n    /**\n     * Активность элемента списка\n     */\n    isActive?: boolean;\n    /**\n     * Слот для контента слева, например `Icon`\n     */\n    contentLeft?: React.ReactNode;\n}\n\n/**\n * Без этого спана баг - контент (например, иконка)\n * сжимался в угоду текстового контента,\n * при чем ширина иконки игнорируется.\n */\nconst StyledTabItemContentLeft = styled.span`\n    display: flex;\n`;\n\n/**\n * Этот спан нужен для сокращения\n * текстового контента и отступов.\n */\nconst StyledTabItemText = styled.span`\n    display: inline;\n\n    ${applyEllipsis}\n\n    /* stylelint-disable-next-line */\n    ${StyledTabItemContentLeft} ~ & {\n        margin-left: 0.375rem;\n    }\n\n    &:focus,\n    &.focus-visible {\n        outline: 0 none;\n    }\n`;\n\nexport const StyledTabItem = styled.button<StyledTabItemProps>`\n    align-items: center;\n    box-sizing: border-box;\n    display: flex;\n    justify-content: center;\n\n    border: 0 none;\n    background: none;\n    color: inherit;\n\n    letter-spacing: inherit;\n    text-align: center;\n\n    cursor: pointer;\n\n    &:focus {\n        outline: 0 none;\n    }\n\n    ${({ disabled }) =>\n        disabled &&\n        css`\n            pointer-events: none;\n        `}\n\n    /**\n    * Не передали контент => квадратная кнопка.\n    */\n    ${({ isChildren }) =>\n        !isChildren &&\n        css`\n            width: var(--tab-item-height);\n            padding-left: 0;\n            padding-right: 0;\n        `}\n\n    /**\n    * Для центрирования иконки, нужно уменьшить вертикальные паддинги.\n    */\n    ${({ isContentLeft }) =>\n        isContentLeft &&\n        css`\n            padding-top: var(--tab-item-padding-y-reduced);\n            padding-bottom: var(--tab-item-padding-y-reduced);\n        `}\n`;\n\n/**\n * Элемент списка, недопустимо использовать вне компонента Tabs.\n */\n// eslint-disable-next-line prefer-arrow-callback\nexport const TabItem = forwardRef<HTMLButtonElement, TabItemProps>(function TabItem(\n    { children, contentLeft, isActive, role = 'tab', ...rest },\n    outerRef,\n) {\n    const innerRef = useRef<HTMLButtonElement>(null);\n    const ref = useForkRef(outerRef, innerRef);\n    const { refs } = useContext(TabsContext);\n\n    useEffect(() => {\n        refs?.register(innerRef);\n        return () => refs?.unregister(innerRef);\n    }, [refs]);\n\n    return (\n        <StyledTabItem\n            ref={ref}\n            isChildren={!!children}\n            isContentLeft={!!contentLeft}\n            isActive={isActive}\n            aria-selected={isActive}\n            role={role}\n            {...rest}\n        >\n            {contentLeft && <StyledTabItemContentLeft aria-hidden>{contentLeft}</StyledTabItemContentLeft>}\n            {children && <StyledTabItemText tabIndex={-1}>{children}</StyledTabItemText>}\n        </StyledTabItem>\n    );\n});\n"],"file":"TabItem.js"}
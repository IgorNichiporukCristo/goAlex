{"version":3,"sources":["../../src/hooks/useDebouncedFunction.ts"],"names":["React","useDebouncedFunction","func","delay","cleanUp","timeoutRef","useRef","clearTimer","current","clearTimeout","undefined","useEffect","args","setTimeout"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,oBAAT,CAA8BC,IAA9B,EAA8CC,KAA9C,EAA6DC,OAA7D,EAAgF;AACnF,MAAMC,UAAU,GAAGL,KAAK,CAACM,MAAN,EAAnB;AAEA;AACJ;AACA;;AACI,WAASC,UAAT,GAAsB;AAClB,QAAIF,UAAU,CAACG,OAAf,EAAwB;AACpBC,MAAAA,YAAY,CAACJ,UAAU,CAACG,OAAZ,CAAZ;AACAH,MAAAA,UAAU,CAACG,OAAX,GAAqBE,SAArB;AACH;AACJ;AAED;AACJ;AACA;AACA;;;AACIV,EAAAA,KAAK,CAACW,SAAN,CAAgB;AAAA,WAAOP,OAAO,GAAGG,UAAH,GAAgBG,SAA9B;AAAA,GAAhB,EAA0D,CAACN,OAAD,CAA1D;AAEA,SAAO,YAAoB;AAAA,sCAAhBQ,IAAgB;AAAhBA,MAAAA,IAAgB;AAAA;;AACvBL,IAAAA,UAAU;AACVF,IAAAA,UAAU,CAACG,OAAX,GAAqBK,UAAU,CAAC;AAAA,aAAMX,IAAI,MAAJ,SAAQU,IAAR,CAAN;AAAA,KAAD,EAAsBT,KAAtB,CAA/B;AACH,GAHD;AAIH","sourcesContent":["import React from 'react';\n\n/**\n * @param {Function} func\n * @param {number} delay\n * @param {boolean} cleanUp\n * https://habr.com/ru/company/domclick/blog/510616/\n */\nexport function useDebouncedFunction(func: Function, delay: number, cleanUp?: boolean) {\n    const timeoutRef = React.useRef<number>();\n\n    /**\n     * Очистка таймера\n     */\n    function clearTimer() {\n        if (timeoutRef.current) {\n            clearTimeout(timeoutRef.current);\n            timeoutRef.current = undefined;\n        }\n    }\n\n    /**\n     * Очищаем таймер при анмаунте компонента, если cleanUp выставлен в true\n     * и тем самым отменяем последний запланированный вызов\n     */\n    React.useEffect(() => (cleanUp ? clearTimer : undefined), [cleanUp]);\n\n    return (...args: any[]) => {\n        clearTimer();\n        timeoutRef.current = setTimeout(() => func(...args), delay);\n    };\n}\n"],"file":"useDebouncedFunction.js"}
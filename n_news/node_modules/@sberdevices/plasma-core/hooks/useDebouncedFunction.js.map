{"version":3,"sources":["../src/hooks/useDebouncedFunction.ts"],"names":["useDebouncedFunction","func","delay","cleanUp","timeoutRef","React","useRef","clearTimer","current","clearTimeout","undefined","useEffect","args","setTimeout"],"mappings":";;;;;;;AAAA;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACO,SAASA,oBAAT,CAA8BC,IAA9B,EAA8CC,KAA9C,EAA6DC,OAA7D,EAAgF;AACnF,MAAMC,UAAU,GAAGC,kBAAMC,MAAN,EAAnB;AAEA;AACJ;AACA;;;AACI,WAASC,UAAT,GAAsB;AAClB,QAAIH,UAAU,CAACI,OAAf,EAAwB;AACpBC,MAAAA,YAAY,CAACL,UAAU,CAACI,OAAZ,CAAZ;AACAJ,MAAAA,UAAU,CAACI,OAAX,GAAqBE,SAArB;AACH;AACJ;AAED;AACJ;AACA;AACA;;;AACIL,oBAAMM,SAAN,CAAgB;AAAA,WAAOR,OAAO,GAAGI,UAAH,GAAgBG,SAA9B;AAAA,GAAhB,EAA0D,CAACP,OAAD,CAA1D;;AAEA,SAAO,YAAoB;AAAA,sCAAhBS,IAAgB;AAAhBA,MAAAA,IAAgB;AAAA;;AACvBL,IAAAA,UAAU;AACVH,IAAAA,UAAU,CAACI,OAAX,GAAqBK,UAAU,CAAC;AAAA,aAAMZ,IAAI,MAAJ,SAAQW,IAAR,CAAN;AAAA,KAAD,EAAsBV,KAAtB,CAA/B;AACH,GAHD;AAIH","sourcesContent":["import React from 'react';\n\n/**\n * @param {Function} func\n * @param {number} delay\n * @param {boolean} cleanUp\n * https://habr.com/ru/company/domclick/blog/510616/\n */\nexport function useDebouncedFunction(func: Function, delay: number, cleanUp?: boolean) {\n    const timeoutRef = React.useRef<number>();\n\n    /**\n     * Очистка таймера\n     */\n    function clearTimer() {\n        if (timeoutRef.current) {\n            clearTimeout(timeoutRef.current);\n            timeoutRef.current = undefined;\n        }\n    }\n\n    /**\n     * Очищаем таймер при анмаунте компонента, если cleanUp выставлен в true\n     * и тем самым отменяем последний запланированный вызов\n     */\n    React.useEffect(() => (cleanUp ? clearTimer : undefined), [cleanUp]);\n\n    return (...args: any[]) => {\n        clearTimer();\n        timeoutRef.current = setTimeout(() => func(...args), delay);\n    };\n}\n"],"file":"useDebouncedFunction.js"}
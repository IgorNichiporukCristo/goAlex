{"version":3,"sources":["../../src/components/Tabs/TabItem.tsx"],"names":["StyledTabItemContentLeft","styled","span","StyledTabItemText","applyEllipsis","StyledTabItem","button","disabled","css","isChildren","isContentLeft","TabItem","outerRef","children","contentLeft","isActive","role","rest","innerRef","ref","TabsContext","refs","register","unregister"],"mappings":";;;;;;;;;AAAA;;AACA;;AAEA;;AACA;;AAGA;;;;;;;;;;;;;;AAmBA;AACA;AACA;AACA;AACA;AACA,IAAMA,wBAAwB,gBAAGC,6BAAOC,IAAV;AAAA;AAAA,qBAA9B;AAIA;AACA;AACA;AACA;;;AACA,IAAMC,iBAAiB,gBAAGF,6BAAOC,IAAV;AAAA;AAAA,oGAGjBE,qBAHiB,EAMjBJ,wBANiB,CAAvB;;AAgBO,IAAMK,aAAa,gBAAGJ,6BAAOK,MAAV;AAAA;AAAA,gOAmBpB;AAAA,MAAGC,QAAH,QAAGA,QAAH;AAAA,SACEA,QAAQ,QACRC,qBADQ,2BADV;AAAA,CAnBoB,EA4BpB;AAAA,MAAGC,UAAH,SAAGA,UAAH;AAAA,SACE,CAACA,UAAD,QACAD,qBADA,mEADF;AAAA,CA5BoB,EAuCpB;AAAA,MAAGE,aAAH,SAAGA,aAAH;AAAA,SACEA,aAAa,QACbF,qBADa,sGADf;AAAA,CAvCoB,CAAnB;AA+CP;AACA;AACA;AACA;;;;AACO,IAAMG,OAAO,gBAAG,uBAA4C,SAASA,OAAT,QAE/DC,QAF+D,EAGjE;AAAA,MAFIC,QAEJ,SAFIA,QAEJ;AAAA,MAFcC,WAEd,SAFcA,WAEd;AAAA,MAF2BC,QAE3B,SAF2BA,QAE3B;AAAA,yBAFqCC,IAErC;AAAA,MAFqCA,IAErC,2BAF4C,KAE5C;AAAA,MAFsDC,IAEtD;;AACE,MAAMC,QAAQ,GAAG,mBAA0B,IAA1B,CAAjB;AACA,MAAMC,GAAG,GAAG,uBAAWP,QAAX,EAAqBM,QAArB,CAAZ;;AACA,oBAAiB,uBAAWE,wBAAX,CAAjB;AAAA,MAAQC,IAAR,eAAQA,IAAR;;AAEA,wBAAU,YAAM;AACZA,IAAAA,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEC,QAAN,CAAeJ,QAAf;AACA,WAAO;AAAA,aAAMG,IAAN,aAAMA,IAAN,uBAAMA,IAAI,CAAEE,UAAN,CAAiBL,QAAjB,CAAN;AAAA,KAAP;AACH,GAHD,EAGG,CAACG,IAAD,CAHH;AAKA,sBACI,gCAAC,aAAD;AACI,IAAA,GAAG,EAAEF,GADT;AAEI,IAAA,UAAU,EAAE,CAAC,CAACN,QAFlB;AAGI,IAAA,aAAa,EAAE,CAAC,CAACC,WAHrB;AAII,IAAA,QAAQ,EAAEC,QAJd;AAKI,qBAAeA,QALnB;AAMI,IAAA,IAAI,EAAEC;AANV,KAOQC,IAPR,GASKH,WAAW,iBAAI,gCAAC,wBAAD;AAA0B;AAA1B,KAAuCA,WAAvC,CATpB,EAUKD,QAAQ,iBAAI,gCAAC,iBAAD;AAAmB,IAAA,QAAQ,EAAE,CAAC;AAA9B,KAAkCA,QAAlC,CAVjB,CADJ;AAcH,CA3BsB,CAAhB","sourcesContent":["import React, { forwardRef, useRef, useContext, useEffect } from 'react';\nimport styled, { css } from 'styled-components';\n\nimport { useForkRef } from '../../hooks';\nimport { applyEllipsis } from '../../mixins';\nimport { AsProps } from '../../types';\n\nimport { TabsContext } from './TabsContext';\n\ninterface StyledTabItemProps {\n    isActive?: boolean;\n    isChildren?: boolean;\n    isContentLeft?: boolean;\n}\n\nexport interface TabItemProps extends AsProps, React.ButtonHTMLAttributes<HTMLButtonElement> {\n    /**\n     * Активность элемента списка\n     */\n    isActive?: boolean;\n    /**\n     * Слот для контента слева, например `Icon`\n     */\n    contentLeft?: React.ReactNode;\n}\n\n/**\n * Без этого спана баг - контент (например, иконка)\n * сжимался в угоду текстового контента,\n * при чем ширина иконки игнорируется.\n */\nconst StyledTabItemContentLeft = styled.span`\n    display: flex;\n`;\n\n/**\n * Этот спан нужен для сокращения\n * текстового контента и отступов.\n */\nconst StyledTabItemText = styled.span`\n    display: inline;\n\n    ${applyEllipsis}\n\n    /* stylelint-disable-next-line */\n    ${StyledTabItemContentLeft} ~ & {\n        margin-left: 0.375rem;\n    }\n\n    &:focus,\n    &.focus-visible {\n        outline: 0 none;\n    }\n`;\n\nexport const StyledTabItem = styled.button<StyledTabItemProps>`\n    align-items: center;\n    box-sizing: border-box;\n    display: flex;\n    justify-content: center;\n\n    border: 0 none;\n    background: none;\n    color: inherit;\n\n    letter-spacing: inherit;\n    text-align: center;\n\n    cursor: pointer;\n\n    &:focus {\n        outline: 0 none;\n    }\n\n    ${({ disabled }) =>\n        disabled &&\n        css`\n            pointer-events: none;\n        `}\n\n    /**\n    * Не передали контент => квадратная кнопка.\n    */\n    ${({ isChildren }) =>\n        !isChildren &&\n        css`\n            width: var(--tab-item-height);\n            padding-left: 0;\n            padding-right: 0;\n        `}\n\n    /**\n    * Для центрирования иконки, нужно уменьшить вертикальные паддинги.\n    */\n    ${({ isContentLeft }) =>\n        isContentLeft &&\n        css`\n            padding-top: var(--tab-item-padding-y-reduced);\n            padding-bottom: var(--tab-item-padding-y-reduced);\n        `}\n`;\n\n/**\n * Элемент списка, недопустимо использовать вне компонента Tabs.\n */\n// eslint-disable-next-line prefer-arrow-callback\nexport const TabItem = forwardRef<HTMLButtonElement, TabItemProps>(function TabItem(\n    { children, contentLeft, isActive, role = 'tab', ...rest },\n    outerRef,\n) {\n    const innerRef = useRef<HTMLButtonElement>(null);\n    const ref = useForkRef(outerRef, innerRef);\n    const { refs } = useContext(TabsContext);\n\n    useEffect(() => {\n        refs?.register(innerRef);\n        return () => refs?.unregister(innerRef);\n    }, [refs]);\n\n    return (\n        <StyledTabItem\n            ref={ref}\n            isChildren={!!children}\n            isContentLeft={!!contentLeft}\n            isActive={isActive}\n            aria-selected={isActive}\n            role={role}\n            {...rest}\n        >\n            {contentLeft && <StyledTabItemContentLeft aria-hidden>{contentLeft}</StyledTabItemContentLeft>}\n            {children && <StyledTabItemText tabIndex={-1}>{children}</StyledTabItemText>}\n        </StyledTabItem>\n    );\n});\n"],"file":"TabItem.js"}
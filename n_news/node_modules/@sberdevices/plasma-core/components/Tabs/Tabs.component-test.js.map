{"version":3,"sources":["../../src/components/Tabs/Tabs.component-test.tsx"],"names":["items","label","describe","Tabs","TabItem","TabsController","ControlledTabsController","index","setIndex","i","it","map","item","cy","matchImageSnapshot","get","click","root","trigger","keyCode","should","Container","children","width","parent","scrollTo","onIndexChange","stub","force","then","expect","not","called"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { mount, CypressTestDecorator, getComponent } from '@sberdevices/plasma-cy-utils';\nimport { IconDone } from '@sberdevices/plasma-icons';\n\nconst items = [{ label: 'Joy' }, { label: 'Sber' }, { label: 'Athena' }];\n\ndescribe('plasma-core: Tabs', () => {\n    const Tabs = getComponent('Tabs');\n    const TabItem = getComponent('TabItem');\n    const TabsController = getComponent('TabsController');\n\n    const ControlledTabsController = () => {\n        const [index, setIndex] = useState(0);\n\n        return <TabsController items={items} index={index} onIndexChange={(i) => setIndex(i)} />;\n    };\n\n    it('simple', () => {\n        mount(\n            <CypressTestDecorator>\n                <Tabs forwardedAs=\"ul\">\n                    {items.map((item, i) => (\n                        <TabItem key={i} isActive={i === 1} forwardedAs=\"li\">\n                            {item.label}\n                        </TabItem>\n                    ))}\n                </Tabs>\n            </CypressTestDecorator>,\n        );\n\n        cy.matchImageSnapshot();\n    });\n\n    it('with icon', () => {\n        mount(\n            <CypressTestDecorator>\n                <Tabs forwardedAs=\"ul\">\n                    {items.map((item, i) => (\n                        <TabItem\n                            key={i}\n                            isActive={i === 1}\n                            forwardedAs=\"li\"\n                            contentLeft={<IconDone size=\"s\" color=\"inherit\" />}\n                        >\n                            {item.label}\n                        </TabItem>\n                    ))}\n                </Tabs>\n            </CypressTestDecorator>,\n        );\n\n        cy.matchImageSnapshot();\n    });\n\n    it('_disabled', () => {\n        mount(\n            <CypressTestDecorator>\n                <Tabs disabled forwardedAs=\"ul\">\n                    {items.map((item, i) => (\n                        <TabItem key={i} isActive={i === 1} forwardedAs=\"li\">\n                            {item.label}\n                        </TabItem>\n                    ))}\n                </Tabs>\n            </CypressTestDecorator>,\n        );\n\n        cy.matchImageSnapshot();\n    });\n\n    it('controller', () => {\n        mount(\n            <CypressTestDecorator>\n                <ControlledTabsController />\n            </CypressTestDecorator>,\n        );\n\n        cy.get('div > button:nth-child(2)').click();\n        cy.matchImageSnapshot();\n    });\n\n    it('controller with keydown', () => {\n        mount(\n            <CypressTestDecorator>\n                <ControlledTabsController />\n            </CypressTestDecorator>,\n        );\n\n        cy.root().get('[role=\"tablist\"]').trigger('keydown', { keyCode: 13 });\n        cy.get('div > button:nth-child(1)').should('have.attr', 'tabindex', '0');\n\n        cy.root().get('[role=\"tablist\"]').trigger('keydown', { keyCode: 39 });\n        cy.get('div > button:nth-child(2)').should('have.attr', 'tabindex', '0');\n\n        cy.root().get('[role=\"tablist\"]').trigger('keydown', { keyCode: 37 });\n        cy.get('div > button:nth-child(1)').should('have.attr', 'tabindex', '0');\n\n        cy.root().get('[role=\"tablist\"]').trigger('keydown', { keyCode: 35 });\n        cy.get('div > button:nth-child(3)').should('have.attr', 'tabindex', '0');\n\n        cy.root().get('[role=\"tablist\"]').trigger('keydown', { keyCode: 36 });\n        cy.get('div > button:nth-child(1)').should('have.attr', 'tabindex', '0');\n    });\n\n    it('scrollable', () => {\n        const Container = ({ children }) => {\n            return <div style={{ width: '75px' }}>{children}</div>;\n        };\n\n        mount(\n            <CypressTestDecorator>\n                <Container>\n                    <Tabs>\n                        <TabItem>Joy</TabItem>\n                        <TabItem isActive>Sber</TabItem>\n                        <TabItem>Eva</TabItem>\n                    </Tabs>\n                </Container>\n            </CypressTestDecorator>,\n        );\n\n        cy.get('[role=\"tablist\"]').parent().scrollTo(500, 0);\n\n        cy.matchImageSnapshot();\n    });\n\n    it('_stretch', () => {\n        mount(\n            <CypressTestDecorator>\n                <Tabs stretch>\n                    <TabItem>Joy</TabItem>\n                    <TabItem isActive>Sber</TabItem>\n                    <TabItem>Eva</TabItem>\n                </Tabs>\n            </CypressTestDecorator>,\n        );\n\n        cy.matchImageSnapshot();\n    });\n\n    it('try click by disabled tabs', () => {\n        const onIndexChange = cy.stub();\n\n        mount(\n            <CypressTestDecorator>\n                <TabsController items={items} index={0} disabled onIndexChange={onIndexChange} />\n            </CypressTestDecorator>,\n        );\n\n        cy.get('div > button:nth-child(2)')\n            .click({ force: true })\n            .then(() => {\n                expect(onIndexChange).not.called;\n            });\n\n        cy.root()\n            .get('[role=\"tablist\"]')\n            .trigger('keydown', { keyCode: 39 })\n            .then(() => {\n                expect(onIndexChange).not.called;\n            });\n    });\n});\n"],"file":"Tabs.component-test.js"}
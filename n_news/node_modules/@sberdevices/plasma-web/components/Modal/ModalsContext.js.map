{"version":3,"sources":["../../src/components/Modal/ModalsContext.tsx"],"names":["ModalsController","id","items","push","splice","indexOf","controller","MODALS_PORTAL_ID","ModalsContext","React","createContext","ModalsProvider","children","portal","document","createElement","body","contains","removeChild"],"mappings":";;;;;;;;;AAAA;;;;;;;;;;;;;;AAEA;AACA;AACA;IACMA,gB;;;;mCACuB,E;;;;;WAEzB,kBAAgBC,EAAhB,EAA4B;AACxB,aAAO,KAAKC,KAAL,CAAWC,IAAX,CAAgBF,EAAhB,CAAP;AACH;;;WAED,oBAAkBA,EAAlB,EAA8B;AAC1B,WAAKC,KAAL,CAAWE,MAAX,CAAkB,KAAKF,KAAL,CAAWG,OAAX,CAAmBJ,EAAnB,CAAlB,EAA0C,CAA1C;AACH;;;;;;AAGL,IAAMK,UAAU,gBAAG,IAAIN,gBAAJ,EAAnB;AAEO,IAAMO,gBAAgB,GAAG,oBAAzB;;;AAEA,IAAMC,aAAa,gBAAGC,kBAAMC,aAAN,CAAoBJ,UAApB,CAAtB;;;;AAEA,IAAMK,cAAwB,GAAG,SAA3BA,cAA2B,OAAkB;AAAA,MAAfC,QAAe,QAAfA,QAAe;AACtD,wBAAU,YAAM;AACZ,WAAO,YAAM;AACT,UAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAf;;AACA,UAAIF,MAAM,IAAIC,QAAQ,CAACE,IAAT,CAAcC,QAAd,CAAuBJ,MAAvB,CAAd,EAA8C;AAC1CC,QAAAA,QAAQ,CAACE,IAAT,CAAcE,WAAd,CAA0BL,MAA1B;AACH;AACJ,KALD;AAMH,GAPD,EAOG,EAPH;AASA,sBAAO,gCAAC,aAAD,CAAe,QAAf;AAAwB,IAAA,KAAK,EAAEP;AAA/B,KAA4CM,QAA5C,CAAP;AACH,CAXM","sourcesContent":["import React, { useEffect } from 'react';\n\n/**\n * Хранилище модальных окон.\n */\nclass ModalsController {\n    public items: string[] = [];\n\n    public register(id: string) {\n        return this.items.push(id);\n    }\n\n    public unregister(id: string) {\n        this.items.splice(this.items.indexOf(id), 1);\n    }\n}\n\nconst controller = new ModalsController();\n\nexport const MODALS_PORTAL_ID = 'plasma-modals-root';\n\nexport const ModalsContext = React.createContext(controller);\n\nexport const ModalsProvider: React.FC = ({ children }) => {\n    useEffect(() => {\n        return () => {\n            const portal = document.createElement('div');\n            if (portal && document.body.contains(portal)) {\n                document.body.removeChild(portal);\n            }\n        };\n    }, []);\n\n    return <ModalsContext.Provider value={controller}>{children}</ModalsContext.Provider>;\n};\n"],"file":"ModalsContext.js"}
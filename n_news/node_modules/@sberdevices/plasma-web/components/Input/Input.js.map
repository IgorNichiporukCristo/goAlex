{"version":3,"sources":["../../src/components/Input/Input.tsx"],"names":["StyledHint","styled","span","inputLabelColor","StyledLabel","inputTypo","inputLabelTypo","StyledPlaceholder","inputFocusPlaceholderColor","getPadding","paddingTop","paddingBottom","paddingLeft","paddingRight","paddingY","paddingX","applySizes","$size","$hasHint","$hasContentLeft","$hasContentRight","$animatedHint","sizes","height","hasLabelPaddingTop","hasContentPaddingLeft","hasContentPaddingRight","hasLabelPaddingBottom","padding","css","inputLabelMarginTop","StyledInput","input","inputBackground","inputColor","inputCaretColor","inputBorderRadius","inputBorderWidth","inputBorder","inputBackgroundHover","inputBorderHover","inputPlaceholderColor","$status","statuses","inputBackgroundFocus","inputBorderFocus","$hasLabel","InputPlaceLabel","animatedHint","placeholder","label","Input","ref","size","disabled","status","hasContentLeft","hasContentRight","rest","Boolean"],"mappings":"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","sourcesContent":["import React, { FC, forwardRef } from 'react';\nimport styled, { css, InterpolationFunction } from 'styled-components';\nimport type { InputHTMLAttributes } from '@sberdevices/plasma-core';\n\nimport {\n    inputTypo,\n    inputLabelTypo,\n    inputBackground,\n    inputBackgroundHover,\n    inputBackgroundFocus,\n    inputColor,\n    inputCaretColor,\n    inputPlaceholderColor,\n    inputFocusPlaceholderColor,\n    inputBorder,\n    inputBorderHover,\n    inputBorderFocus,\n    inputBorderRadius,\n    inputBorderWidth,\n    inputLabelColor,\n    inputLabelMarginTop,\n} from '../../tokens';\n\nimport { sizes, statuses } from './Input.props';\n\nexport interface InputProps extends Omit<InputHTMLAttributes<HTMLInputElement>, 'size'> {\n    /**\n     * Размер контрола.\n     */\n    size?: keyof typeof sizes;\n    /**\n     * Статус компонента: заполнен успешно / с ошибкой.\n     */\n    status?: keyof typeof statuses;\n    /**\n     * Анимированные подсказки внутри инпута. Отображается только в размере `l`.\n     */\n    animatedHint?: 'label' | 'placeholder';\n    /**\n     * Лейбл сверху. Отображается только в размере `l`.\n     */\n    label?: string | number;\n    hasContentLeft?: boolean;\n    hasContentRight?: boolean;\n}\n\nconst StyledHint = styled.span`\n    display: flex;\n    align-items: center;\n    transition: all 0.1s ease-in-out;\n\n    box-sizing: border-box;\n    position: absolute;\n    top: 0;\n    left: 0;\n    pointer-events: none;\n\n    color: ${inputLabelColor};\n`;\nconst StyledLabel = styled(StyledHint)`\n    ${inputTypo}\n\n    input:focus + &,\n    input:not(:placeholder-shown) + & {\n        ${inputLabelTypo}\n    }\n`;\nconst StyledPlaceholder = styled(StyledHint)`\n    ${inputLabelTypo}\n\n    input:placeholder-shown + & {\n        ${inputTypo}\n    }\n\n    input:focus + & {\n        color: ${inputFocusPlaceholderColor};\n    }\n`;\n\ninterface StyledInputProps {\n    $size: keyof typeof sizes;\n    $status?: keyof typeof statuses;\n    $hasHint?: boolean;\n    $hasContentLeft?: boolean;\n    $hasContentRight?: boolean;\n    $animatedHint?: InputProps['animatedHint'];\n}\n\nconst getPadding = (\n    paddingTop: string,\n    paddingBottom: string,\n    paddingLeft: string,\n    paddingRight: string,\n    paddingY: string,\n    paddingX: string,\n) => {\n    switch (true) {\n        case paddingTop !== paddingBottom && paddingLeft !== paddingRight:\n            return `${paddingTop} ${paddingRight} ${paddingBottom} ${paddingLeft}`;\n        case paddingTop !== paddingBottom:\n            return `${paddingTop} ${paddingX} ${paddingBottom}`;\n        case paddingLeft !== paddingRight:\n            return `${paddingY} ${paddingRight} ${paddingY} ${paddingLeft}`;\n        default:\n            return `${paddingY} ${paddingX}`;\n    }\n};\n\nconst applySizes: InterpolationFunction<StyledInputProps> = () => ({\n    $size,\n    $hasHint,\n    $hasContentLeft,\n    $hasContentRight,\n    $animatedHint,\n}) => {\n    const {\n        height,\n        paddingY,\n        paddingX,\n        hasLabelPaddingTop,\n        hasContentPaddingLeft,\n        hasContentPaddingRight,\n        hasLabelPaddingBottom,\n    } = sizes[$size];\n    const paddingTop = $hasHint ? hasLabelPaddingTop : paddingY;\n    const paddingBottom = $hasHint ? hasLabelPaddingBottom : paddingY;\n    const paddingLeft = $hasContentLeft ? hasContentPaddingLeft : paddingX;\n    const paddingRight = $hasContentRight ? hasContentPaddingRight : paddingX;\n    const padding = getPadding(paddingTop, paddingBottom, paddingLeft, paddingRight, paddingY, paddingX);\n\n    return css`\n        height: ${height};\n        padding: ${padding};\n\n        ${\n            $animatedHint === 'placeholder' &&\n            css`\n                &:placeholder-shown {\n                    padding-top: ${paddingY};\n                    padding-bottom: ${paddingY};\n                }\n            `\n        }\n\n        & + ${StyledHint} {\n            height: ${height};\n            padding: ${paddingY} ${paddingLeft} ${paddingY} ${paddingRight};\n        }\n\n        &:focus + ${StyledLabel},\n        &:not(:placeholder-shown) + ${StyledLabel},\n        &:not(:placeholder-shown) + ${StyledPlaceholder} {\n            height: auto;\n            padding-top: ${inputLabelMarginTop};\n        }\n    `;\n};\n\nconst StyledInput = styled.input<StyledInputProps>`\n    ${applySizes}\n    ${inputTypo}\n\n    box-sizing: border-box;\n    width: 100%;\n\n    background-color: ${inputBackground};\n    color: ${inputColor};\n    caret-color: ${inputCaretColor};\n    border: 0 none;\n    border-radius: ${inputBorderRadius};\n    box-shadow: inset 0 0 0 ${inputBorderWidth} ${inputBorder};\n\n    transition: box-shadow 0.1s ease-in, background-color 0.1s ease-in, color 0.1s ease-in;\n\n    &:hover {\n        background-color: ${inputBackgroundHover};\n        box-shadow: inset 0 0 0 ${inputBorderWidth} ${inputBorderHover};\n    }\n\n    &:disabled {\n        box-shadow: inset 0 0 0 ${inputBorderWidth} ${inputBorder};\n        cursor: inherit;\n    }\n\n    &::placeholder {\n        color: ${inputPlaceholderColor};\n    }\n\n    ${({ $status }) => $status && statuses[$status]}\n\n    &:focus,\n    &:hover:focus {\n        background-color: ${inputBackgroundFocus};\n        box-shadow: inset 0 0 0 ${inputBorderWidth} ${inputBorderFocus};\n        outline: 0 none;\n    }\n\n    &:focus::placeholder {\n        color: ${inputFocusPlaceholderColor};\n    }\n\n    ${({ $animatedHint }) =>\n        $animatedHint === 'placeholder' &&\n        css`\n            &::placeholder,\n            &:focus::placeholder {\n                color: transparent;\n            }\n        `}\n\n    ${({ $hasHint: $hasLabel }) =>\n        $hasLabel &&\n        css`\n            &::placeholder {\n                color: transparent;\n            }\n        `}\n`;\n\nconst InputPlaceLabel: FC<Pick<InputProps, 'animatedHint' | 'placeholder' | 'label'>> = ({\n    animatedHint,\n    placeholder,\n    label,\n}) => {\n    if (animatedHint === 'placeholder' && placeholder) {\n        return <StyledPlaceholder>{placeholder}</StyledPlaceholder>;\n    }\n    if (animatedHint === 'label' && label) {\n        return <StyledLabel>{label}</StyledLabel>;\n    }\n    return null;\n};\n\n/**\n * Поле ввода текста без подсказки и лейбла.\n * @private\n */\n// eslint-disable-next-line prefer-arrow-callback\nexport const Input = forwardRef<HTMLInputElement, InputProps>(function Input(\n    { size = 'l', disabled, status, placeholder, label, animatedHint, hasContentLeft, hasContentRight, ...rest },\n    ref,\n) {\n    return (\n        <>\n            <StyledInput\n                ref={ref}\n                disabled={disabled}\n                placeholder={placeholder}\n                $size={size}\n                $status={status}\n                $hasHint={animatedHint && Boolean(label || placeholder)}\n                $hasContentLeft={hasContentLeft}\n                $hasContentRight={hasContentRight}\n                $animatedHint={animatedHint}\n                {...rest}\n            />\n            {size === 'l' && animatedHint && (\n                <InputPlaceLabel animatedHint={animatedHint} placeholder={placeholder} label={label} />\n            )}\n        </>\n    );\n});\n"],"file":"Input.js"}
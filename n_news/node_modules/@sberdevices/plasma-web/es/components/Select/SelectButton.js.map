{"version":3,"sources":["../../../src/components/Select/SelectButton.tsx"],"names":["React","forwardRef","styled","css","body1","accent","primary","secondary","tertiary","success","warning","critical","applyEllipsis","IconChevronDown","inputBorder","inputBorderHover","statuses","error","StyledArrow","StyledText","span","StyledPlaceholder","StyledButton","button","hasItems","focused","status","isOpen","SelectButton","ref","value","placeholder","rest"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAsCC,UAAtC,QAAwD,OAAxD;AACA,OAAOC,MAAP,IAAiBC,GAAjB,QAA4B,mBAA5B;AACA,SACIC,KADJ,EAEIC,MAFJ,EAGIC,OAHJ,EAIIC,SAJJ,EAKIC,QALJ,EAMIC,OANJ,EAOIC,OAPJ,EAQIC,QARJ,EASIC,aATJ,QAUO,0BAVP;AAWA,SAASC,eAAT,QAAgC,2BAAhC;AAEA,SAASC,WAAT,EAAsBC,gBAAtB,QAA8C,cAA9C;AAiBA,IAAMC,QAAQ,GAAG;AACbP,EAAAA,OAAO,EAAPA,OADa;AAEbC,EAAAA,OAAO,EAAPA,OAFa;AAGbO,EAAAA,KAAK,EAAEN;AAHM,CAAjB;AAMA,IAAMO,WAAW,gBAAGhB,MAAM,CAACW,eAAD,CAAT;AAAA;AAAA,yKAAjB;AAMA,IAAMM,UAAU,gBAAGjB,MAAM,CAACkB,IAAV;AAAA;AAAA,gGACVR,aADU,EAGHN,OAHG,CAAhB;AAQA,IAAMe,iBAAiB,gBAAGnB,MAAM,CAACkB,IAAV;AAAA;AAAA,8DACjBR,aADiB,EAGVJ,QAHU,CAAvB;AAWA,IAAMc,YAAY,gBAAGpB,MAAM,CAACqB,MAAV;AAAA;AAAA,mYACZnB,KADY,EAaMU,WAbN,EAiBLP,SAjBK,EAoBZ;AAAA,MAAGiB,QAAH,QAAGA,QAAH;AAAA,SACEA,QAAQ,IACRrB,GADQ,2EAIgBY,gBAJhB,EAKSR,SALT,CADV;AAAA,CApBY,EAoCMF,MApCN,EAqCDA,MArCC,EAwCZ;AAAA,MAAGoB,OAAH,SAAGA,OAAH;AAAA,SACEA,OAAO,IACPtB,GADO,oCAEaE,MAFb,EAGMA,MAHN,CADT;AAAA,CAxCY,EA+CZ;AAAA,MAAGqB,MAAH,SAAGA,MAAH;AAAA,SACEA,MAAM,IACNvB,GADM,uEAEca,QAAQ,CAACU,MAAD,CAFtB,EAGOV,QAAQ,CAACU,MAAD,CAHf,EAQkBV,QAAQ,CAACU,MAAD,CAR1B,CADR;AAAA,CA/CY,EA4DZ;AAAA,MAAGC,MAAH,SAAGA,MAAH;AAAA,SACEA,MAAM,IACNxB,GADM,uCAEAe,WAFA,CADR;AAAA,CA5DY,CAAlB,C,CAqEA;;AACA,OAAO,IAAMU,YAAY,gBAAG3B,UAAU,CAAsC,SAAS2B,YAAT,QAExEC,GAFwE,EAG1E;AAAA,MAFIC,KAEJ,SAFIA,KAEJ;AAAA,MAFWC,WAEX,SAFWA,WAEX;AAAA,MAFwBP,QAExB,SAFwBA,QAExB;AAAA,MAFqCQ,IAErC;;AACE,sBACI,oBAAC,YAAD,eAAkBA,IAAlB;AAAwB,IAAA,GAAG,EAAEH,GAA7B;AAAkC,IAAA,QAAQ,EAAEL,QAA5C;AAAsD,kBAAYO;AAAlE,MACKD,KAAK,iBAAI,oBAAC,UAAD,QAAaA,KAAb,CADd,EAEKC,WAAW,IAAI,CAACD,KAAhB,iBAAyB,oBAAC,iBAAD;AAAmB,mBAAY;AAA/B,KAAuCC,WAAvC,CAF9B,EAGKP,QAAQ,iBAAI,oBAAC,WAAD;AAAa,IAAA,IAAI,EAAC,IAAlB;AAAuB,IAAA,KAAK,EAAC;AAA7B,IAHjB,CADJ;AAOH,CAXqC,CAA/B","sourcesContent":["import React, { ButtonHTMLAttributes, forwardRef } from 'react';\nimport styled, { css } from 'styled-components';\nimport {\n    body1,\n    accent,\n    primary,\n    secondary,\n    tertiary,\n    success,\n    warning,\n    critical,\n    applyEllipsis,\n} from '@sberdevices/plasma-core';\nimport { IconChevronDown } from '@sberdevices/plasma-icons';\n\nimport { inputBorder, inputBorderHover } from '../../tokens';\nimport type { FieldProps } from '../Field';\n\nexport type SelectRefElement = HTMLButtonElement;\n\nexport interface SelectButtonProps\n    extends Pick<FieldProps, 'status' | 'placeholder' | 'disabled'>,\n        Omit<ButtonHTMLAttributes<SelectRefElement>, 'value'> {\n    /**\n     * Выводимое значение.\n     */\n    value?: string | number | null;\n    hasItems?: boolean;\n    isOpen?: boolean;\n    children?: never;\n}\n\nconst statuses = {\n    success,\n    warning,\n    error: critical,\n};\n\nconst StyledArrow = styled(IconChevronDown)`\n    margin: var(--plasma-select-button-arrow-margin, 0 0 0 0.75rem);\n    transition: color 0.3s ease-in-out, transform 0.15s ease-in-out;\n    pointer-events: none;\n    user-select: none;\n`;\nconst StyledText = styled.span`\n    ${applyEllipsis}\n\n    color: ${primary};\n    transition: color 0.3s ease-in-out;\n    pointer-events: none;\n    user-select: none;\n`;\nconst StyledPlaceholder = styled.span`\n    ${applyEllipsis}\n\n    color: ${tertiary};\n    pointer-events: none;\n    user-select: none;\n`;\n\ninterface StyledButtonProps extends Pick<SelectButtonProps, 'status' | 'hasItems' | 'isOpen'> {\n    focused?: boolean;\n}\nconst StyledButton = styled.button<StyledButtonProps>`\n    ${body1}\n\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    box-sizing: border-box;\n\n    width: 100%;\n    height: 3rem;\n\n    /* stylelint-disable-next-line number-max-precision */\n    padding: 0.875rem 0.9375rem;\n    border: 1px solid ${inputBorder};\n    border-radius: 0.25rem;\n\n    background-color: transparent;\n    color: ${secondary};\n    transition: border-color 0.3s ease-in-out;\n\n    ${({ hasItems }) =>\n        hasItems &&\n        css`\n            &:not(:disabled):hover {\n                cursor: pointer;\n                border-color: ${inputBorderHover};\n                color: ${secondary};\n            }\n        `}\n\n    &:disabled {\n        cursor: inherit;\n    }\n\n    &:not(:disabled):focus {\n        outline: 0 none;\n        border-color: ${accent};\n        color: ${accent};\n    }\n\n    ${({ focused }) =>\n        focused &&\n        css`\n            border-color: ${accent};\n            color: ${accent};\n        `}\n\n    ${({ status }) =>\n        status &&\n        css`\n            border-color: ${statuses[status]};\n            color: ${statuses[status]};\n\n            /* stylelint-disable-next-line selector-nested-pattern */\n            &:hover,\n            &:focus {\n                border-color: ${statuses[status]};\n            }\n        `}\n\n    ${({ isOpen }) =>\n        isOpen &&\n        css`\n            ${StyledArrow} {\n                transform: rotate(-180deg);\n            }\n        `}\n`;\n\n// eslint-disable-next-line prefer-arrow-callback\nexport const SelectButton = forwardRef<SelectRefElement, SelectButtonProps>(function SelectButton(\n    { value, placeholder, hasItems, ...rest },\n    ref,\n) {\n    return (\n        <StyledButton {...rest} ref={ref} hasItems={hasItems} aria-label={placeholder}>\n            {value && <StyledText>{value}</StyledText>}\n            {placeholder && !value && <StyledPlaceholder aria-hidden=\"true\">{placeholder}</StyledPlaceholder>}\n            {hasItems && <StyledArrow size=\"xs\" color=\"inherit\" />}\n        </StyledButton>\n    );\n});\n"],"file":"SelectButton.js"}
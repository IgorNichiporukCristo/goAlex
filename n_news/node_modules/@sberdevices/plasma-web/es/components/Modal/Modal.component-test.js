function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

import React from 'react';
import { createGlobalStyle } from 'styled-components';
import { mount, CypressTestDecorator, getComponent } from '@sberdevices/plasma-cy-utils';
var NoAnimationStyle = /*#__PURE__*/createGlobalStyle(["#plasma-modals-root *{animation:none !important;}"]);
var text = "\u0415\u0441\u043B\u0438 \u043F\u043E\u0441\u043B\u0435 \u043F\u0440\u0438\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u043F\u0440\u0430\u0432\u0438\u043B\u0430 \u041B\u043E\u043F\u0438\u0442\u0430\u043B\u044F \u043D\u0435\u043E\u043F\u0440\u0435\u0434\u0435\u043B\u0451\u043D\u043D\u043E\u0441\u0442\u044C \u0442\u0438\u043F\u0430 0 / 0 \u043E\u0441\u0442\u0430\u043B\u0430\u0441\u044C, \u043C\u043D\u0438\u043C\u0430\u044F \u0435\u0434\u0438\u043D\u0438\u0446\u0430 \u0442\u0440\u0430\u0434\u0438\u0446\u0438\u043E\u043D\u043D\u043E\n\u0440\u0430\u0437\u0432\u0438\u0432\u0430\u0435\u0442 \u041D\u0430\u0438\u0431\u043E\u043B\u044C\u0448\u0438\u0439 \u041E\u0431\u0449\u0438\u0439 \u0414\u0435\u043B\u0438\u0442\u0435\u043B\u044C (\u041D\u041E\u0414).";
var heading = 'Голосовая викторина Валдисом Пельшем';
describe('plasma-web: Modal', function () {
  var ModalsProvider = getComponent('ModalsProvider');
  var Modal = getComponent('Modal');
  var Button = getComponent('Button');
  var P1 = getComponent('P1');
  var Headline3 = getComponent('Headline1');

  function Demo() {
    var _React$useState = React.useState(false),
        _React$useState2 = _slicedToArray(_React$useState, 2),
        isOpen = _React$useState2[0],
        setIsOpen = _React$useState2[1];

    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {
      text: "\u041E\u0442\u043A\u0440\u044B\u0442\u044C \u043C\u043E\u0434\u0430\u043B\u044C\u043D\u043E\u0435 \u043E\u043A\u043D\u043E",
      onClick: function onClick() {
        return setIsOpen(true);
      }
    }), /*#__PURE__*/React.createElement(Modal, {
      isOpen: isOpen,
      onClose: function onClose() {
        return setIsOpen(false);
      }
    }, /*#__PURE__*/React.createElement(Headline3, null, heading), /*#__PURE__*/React.createElement(P1, null, text), /*#__PURE__*/React.createElement(Button, {
      text: "\u0417\u0430\u043A\u0440\u044B\u0442\u044C",
      onClick: function onClick() {
        return setIsOpen(false);
      }
    })));
  }

  function Double() {
    var _React$useState3 = React.useState(false),
        _React$useState4 = _slicedToArray(_React$useState3, 2),
        isOpenA = _React$useState4[0],
        setIsOpenA = _React$useState4[1];

    var _React$useState5 = React.useState(false),
        _React$useState6 = _slicedToArray(_React$useState5, 2),
        isOpenB = _React$useState6[0],
        setIsOpenB = _React$useState6[1];

    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {
      text: "Open modal A",
      onClick: function onClick() {
        return setIsOpenA(true);
      }
    }), /*#__PURE__*/React.createElement(Modal, {
      id: "modalA",
      isOpen: isOpenA,
      onClose: function onClose() {
        return setIsOpenA(false);
      }
    }, /*#__PURE__*/React.createElement(Headline3, null, "Modal A"), /*#__PURE__*/React.createElement(P1, null, text), /*#__PURE__*/React.createElement(Button, {
      text: "Open modal B",
      onClick: function onClick() {
        return setIsOpenB(true);
      }
    }), /*#__PURE__*/React.createElement(Button, {
      text: "Close",
      onClick: function onClick() {
        return setIsOpenA(false);
      }
    })), /*#__PURE__*/React.createElement(Modal, {
      id: "modalB",
      isOpen: isOpenB,
      onClose: function onClose() {
        return setIsOpenB(false);
      }
    }, /*#__PURE__*/React.createElement(Headline3, null, "Modal B"), /*#__PURE__*/React.createElement(P1, null, text), /*#__PURE__*/React.createElement(Button, {
      text: "Close",
      onClick: function onClick() {
        return setIsOpenB(false);
      }
    })));
  }

  it('simple', function () {
    mount( /*#__PURE__*/React.createElement(CypressTestDecorator, null, /*#__PURE__*/React.createElement(NoAnimationStyle, null), /*#__PURE__*/React.createElement(ModalsProvider, null, /*#__PURE__*/React.createElement(Demo, null))));
    cy.get('button').click();
    cy.matchImageSnapshot();
  });
  it('close', function () {
    mount( /*#__PURE__*/React.createElement(CypressTestDecorator, null, /*#__PURE__*/React.createElement(NoAnimationStyle, null), /*#__PURE__*/React.createElement(ModalsProvider, null, /*#__PURE__*/React.createElement(Demo, null))));
    cy.get('button').click();
    cy.get('#plasma-modals-root > div').should('be.visible');
    cy.get('body').type('{esc}');
    cy.get('#plasma-modals-root').should('be.empty');
  });
  it('close overlay', function () {
    mount( /*#__PURE__*/React.createElement(CypressTestDecorator, null, /*#__PURE__*/React.createElement(NoAnimationStyle, null), /*#__PURE__*/React.createElement(ModalsProvider, null, /*#__PURE__*/React.createElement(Demo, null))));
    cy.get('button').click();
    cy.get('#plasma-modals-root > div').should('be.visible');
    cy.get('body').click(5, 5);
    cy.get('#plasma-modals-root').should('be.empty');
  });
  it('close X', function () {
    mount( /*#__PURE__*/React.createElement(CypressTestDecorator, null, /*#__PURE__*/React.createElement(NoAnimationStyle, null), /*#__PURE__*/React.createElement(ModalsProvider, null, /*#__PURE__*/React.createElement(Demo, null))));
    cy.get('button').click();
    cy.get('#plasma-modals-root > div').should('be.visible');
    cy.get('svg').click();
    cy.get('#plasma-modals-root').should('be.empty');
  });
  it('double close', function () {
    mount( /*#__PURE__*/React.createElement(CypressTestDecorator, null, /*#__PURE__*/React.createElement(NoAnimationStyle, null), /*#__PURE__*/React.createElement(ModalsProvider, null, /*#__PURE__*/React.createElement(Double, null))));
    cy.get('button').contains('Open modal A').click();
    cy.get('button').contains('Open modal B').click();
    cy.get('#plasma-modals-root > div').should('be.visible');
    cy.get('body').click(5, 5);
    cy.get('div').contains('Modal A').should('be.visible');
    cy.get('body').click(5, 5);
    cy.get('#plasma-modals-root').should('be.empty');
  });
});
//# sourceMappingURL=Modal.component-test.js.map
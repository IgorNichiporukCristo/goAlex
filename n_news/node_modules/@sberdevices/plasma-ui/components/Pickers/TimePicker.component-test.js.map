{"version":3,"sources":["../../src/components/Pickers/TimePicker.component-test.tsx"],"names":["noop","describe","TimePicker","it","Date","cy","matchImageSnapshot","props","value","min","max","infiniteScroll","visibleItems","get","invoke","contains","click","force","wait","on","err","errorMessage","toString","match","length","expect","to","equal","Button","Demo","React","useState","state","setState","onClick","useCallback"],"mappings":"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","sourcesContent":["/* eslint-disable cypress/no-unnecessary-waiting */\nimport React from 'react';\nimport { mount, CypressTestDecorator, getComponent } from '@sberdevices/plasma-cy-utils';\n\nconst noop = () => {};\n\ndescribe('plasma-ui: TimePicker', () => {\n    const TimePicker = getComponent('TimePicker');\n\n    it('default', () => {\n        mount(\n            <CypressTestDecorator>\n                <TimePicker\n                    value={new Date(1980, 8, 1, 0, 28, 59)}\n                    min={new Date(1975, 1, 1, 0, 15, 29)}\n                    max={new Date(1985, 10, 30, 12, 30, 30)}\n                />\n            </CypressTestDecorator>,\n        );\n\n        cy.matchImageSnapshot();\n    });\n\n    it('_size', () => {\n        const props = {\n            value: new Date(1980, 8, 1, 1, 28, 58),\n            min: new Date(1975, 1, 1, 0, 15, 29),\n            max: new Date(1985, 10, 30, 12, 30, 30),\n            infiniteScroll: false,\n            visibleItems: 3,\n        };\n\n        mount(\n            <CypressTestDecorator>\n                <TimePicker size=\"xs\" {...props} />\n                <TimePicker size=\"s\" {...props} />\n                <TimePicker size=\"l\" {...props} />\n            </CypressTestDecorator>,\n        );\n\n        cy.matchImageSnapshot();\n    });\n\n    it('without infiniteScroll', () => {\n        mount(\n            <CypressTestDecorator>\n                <TimePicker\n                    infiniteScroll={false}\n                    value={new Date(1980, 8, 1, 0, 28, 59)}\n                    min={new Date(1975, 1, 1, 0, 15, 29)}\n                    max={new Date(1985, 10, 30, 12, 30, 30)}\n                />\n            </CypressTestDecorator>,\n        );\n\n        cy.matchImageSnapshot();\n    });\n\n    it('change values by click', () => {\n        mount(\n            <CypressTestDecorator>\n                <TimePicker\n                    scrollSnapType=\"none\"\n                    step={2}\n                    onChange={noop}\n                    value={new Date(1980, 8, 1, 0, 28, 59)}\n                    min={new Date(1975, 1, 1, 0, 15, 29)}\n                    max={new Date(1985, 10, 30, 12, 30, 30)}\n                />\n            </CypressTestDecorator>,\n        );\n\n        // отключение анимаций на всех div'ах внутри окружения, TODO: перенести в plasma-cy-utils?\n        cy.get('div').invoke('attr', 'style', 'transition: unset; animation: none; scroll-snap-type: none;');\n\n        cy.get('div > div:nth-child(1)').contains('03').click({ force: true });\n        cy.wait(150);\n        cy.get('div > div:nth-child(3)').contains('04').click({ force: true });\n        cy.wait(150);\n        cy.get('div > div:nth-child(5)').contains('06').click({ force: true });\n\n        cy.wait(1000);\n\n        cy.matchImageSnapshot();\n    });\n\n    it('should error', () => {\n        mount(\n            <CypressTestDecorator>\n                <TimePicker\n                    scrollSnapType=\"none\"\n                    step={9}\n                    onChange={noop}\n                    value={new Date(1980, 8, 1, 0, 28, 25)}\n                    max={new Date(1975, 1, 1, 0, 15, 29)}\n                    min={new Date(1985, 10, 30, 12, 30, 30)}\n                />\n            </CypressTestDecorator>,\n        );\n\n        cy.on('fail', (err) => {\n            const errorMessage = err.toString().match(/Passed value/);\n            if (errorMessage?.length) {\n                expect('Passed value').to.equal(errorMessage[0]);\n                return false;\n            }\n        });\n    });\n});\n\ndescribe('plasma-ui: TimePicker update value', () => {\n    const TimePicker = getComponent('TimePicker');\n    const Button = getComponent('Button');\n\n    function Demo({ value }: { value: Date }) {\n        const [state, setState] = React.useState(new Date(1980, 8, 1, 0, 28, 25));\n\n        const onClick = React.useCallback(() => {\n            setState(value);\n        }, [value]);\n\n        return (\n            <>\n                <TimePicker\n                    scrollSnapType=\"none\"\n                    step={1}\n                    onChange={noop}\n                    value={state}\n                    min={new Date(1975, 1, 1, 0, 15, 29)}\n                    max={new Date(1985, 10, 30, 12, 30, 30)}\n                />\n                <Button onClick={onClick}>Изменить значение</Button>\n            </>\n        );\n    }\n\n    it('change values', () => {\n        mount(\n            <CypressTestDecorator>\n                <Demo value={new Date(1980, 8, 1, 3, 30, 35)} />\n            </CypressTestDecorator>,\n        );\n\n        cy.get('button').click();\n\n        cy.matchImageSnapshot();\n    });\n\n    it('change values with max', () => {\n        mount(\n            <CypressTestDecorator>\n                <Demo value={new Date(1980, 8, 1, 12, 30, 25)} />\n            </CypressTestDecorator>,\n        );\n\n        cy.get('button').click();\n\n        cy.matchImageSnapshot();\n    });\n\n    it('change values with min', () => {\n        mount(\n            <CypressTestDecorator>\n                <Demo value={new Date(1980, 8, 1, 0, 15, 25)} />\n            </CypressTestDecorator>,\n        );\n\n        cy.get('button').click();\n\n        cy.matchImageSnapshot();\n    });\n\n    it('with controls', () => {\n        mount(\n            <CypressTestDecorator>\n                <TimePicker\n                    value={new Date(1980, 8, 1, 0, 28, 59)}\n                    min={new Date(1975, 1, 1, 0, 15, 29)}\n                    max={new Date(1985, 10, 30, 12, 30, 30)}\n                    controls\n                    autofocus\n                />\n            </CypressTestDecorator>,\n        );\n\n        cy.matchImageSnapshot();\n    });\n});\n"],"file":"TimePicker.component-test.js"}
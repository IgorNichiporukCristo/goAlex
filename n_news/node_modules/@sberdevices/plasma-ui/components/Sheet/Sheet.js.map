{"version":3,"sources":["../../src/components/Sheet/Sheet.tsx"],"names":["StyledWrapper","styled","div","theme","lowPerformance","isOpen","css","StyledContentWrapper","StyledOverlay","overlay","StyledSheetContent","backgroundPrimary","StyledSheetHandle","primary","Sheet","children","onClose","withOverlay","restProps","contentWrapperRef","React","useRef","handleRef"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AAEA;;;;;;;;;;;;;;;;AAoBA,IAAMA,aAAa,gBAAGC,6BAAOC,GAAV;AAAA;AAAA,iGAOD;AAAA,MAAGC,KAAH,QAAGA,KAAH;AAAA,SAAgBA,KAAK,CAACC,cAAN,GAAuB,OAAvB,GAAiC,eAAjD;AAAA,CAPC,EAUb;AAAA,MAAGC,MAAH,SAAGA,MAAH;AAAA,SACE,CAACA,MAAD,QACAC,qBADA,mCADF;AAAA,CAVa,CAAnB;;AAkBA,IAAMC,oBAAoB,gBAAGN,6BAAOC,GAAV;AAAA;AAAA,gKAYR;AAAA,MAAGC,KAAH,SAAGA,KAAH;AAAA,SAAgBA,KAAK,CAACC,cAAN,GAAuB,OAAvB,GAAiC,gBAAjD;AAAA,CAZQ,EAcpB;AAAA,MAAGC,MAAH,SAAGA,MAAH;AAAA,SACE,CAACA,MAAD,QACAC,qBADA,kCADF;AAAA,CAdoB,CAA1B;;AAqBA,IAAME,aAAa,gBAAGP,6BAAOC,GAAV;AAAA;AAAA,qFAOKO,qBAPL,CAAnB;;AAUA,IAAMC,kBAAkB,gBAAGT,6BAAOC,GAAV;AAAA;AAAA,6IAEAS,+BAFA,CAAxB;;AAaA,IAAMC,iBAAiB,gBAAGX,6BAAOC,GAAV;AAAA;AAAA,qKAUKW,qBAVL,CAAvB;AAeA;AACA;AACA;AACA;;;AACO,IAAMC,KAAoD,GAAG,SAAvDA,KAAuD,QAM9D;AAAA,MALFT,MAKE,SALFA,MAKE;AAAA,MAJFU,QAIE,SAJFA,QAIE;AAAA,MAHFC,OAGE,SAHFA,OAGE;AAAA,gCAFFC,WAEE;AAAA,MAFFA,WAEE,kCAFY,IAEZ;AAAA,MADCC,SACD;;AACF,MAAMC,iBAAiB,GAAGC,kBAAMC,MAAN,CAA6B,IAA7B,CAA1B;;AACA,MAAMC,SAAS,GAAGF,kBAAMC,MAAN,CAA6B,IAA7B,CAAlB;;AAEA,oCAAc;AAAEF,IAAAA,iBAAiB,EAAjBA,iBAAF;AAAqBG,IAAAA,SAAS,EAATA,SAArB;AAAgCN,IAAAA,OAAO,EAAPA;AAAhC,GAAd;AAEA,sBACI,gCAAC,aAAD;AAAe,IAAA,MAAM,EAAEX;AAAvB,KAAmCa,SAAnC,gBACI,gCAAC,oBAAD;AAAsB,IAAA,MAAM,EAAEb,MAA9B;AAAsC,IAAA,GAAG,EAAEc;AAA3C,kBACI,gCAAC,iBAAD;AAAmB,IAAA,GAAG,EAAEG;AAAxB,IADJ,eAEI,gCAAC,kBAAD,QAAqBP,QAArB,CAFJ,CADJ,EAKKE,WAAW,iBAAI,gCAAC,aAAD;AAAe,IAAA,OAAO,EAAED;AAAxB,IALpB,CADJ;AASH,CArBM","sourcesContent":["import React from 'react';\nimport styled, { css } from 'styled-components';\nimport { overlay, primary, backgroundPrimary } from '@sberdevices/plasma-tokens';\n\nimport { useSheetSwipe } from './useSheetSwipe';\n\nexport interface SheetProps extends React.HTMLAttributes<HTMLDivElement> {\n    /**\n     * Состояние шторки, открыта или скрыта\n     */\n    isOpen: boolean;\n\n    /**\n     * Обработчик закрытия шторки. Вызывается при клике по оверлею или смахиванию шторки вниз\n     */\n    onClose: () => void;\n\n    /**\n     * Наличие оверлея шторки. Если включен, то контент под шторкой перекрывается оверлеем, при нажатии на\n     * который шторка закрывается.\n     */\n    withOverlay?: boolean;\n}\n\nconst StyledWrapper = styled.div<{ isOpen: boolean }>`\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    opacity: 1;\n    transition: ${({ theme }) => (theme.lowPerformance ? 'unset' : 'all 0.5s 0.1s')};\n    z-index: 1000;\n\n    ${({ isOpen }) =>\n        !isOpen &&\n        css`\n            opacity: 0;\n            visibility: hidden;\n        `}\n`;\n\nconst StyledContentWrapper = styled.div<{ isOpen: boolean }>`\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    width: 100%;\n    max-height: 100%;\n    z-index: 1;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n\n    transition: ${({ theme }) => (theme.lowPerformance ? 'unset' : 'transform 0.5s')};\n\n    ${({ isOpen }) =>\n        !isOpen &&\n        css`\n            transform: translateY(100%);\n        `}\n`;\n\nconst StyledOverlay = styled.div`\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n\n    background-color: ${overlay};\n`;\n\nconst StyledSheetContent = styled.div`\n    border-radius: 1.5rem 1.5rem 0 0;\n    background-color: ${backgroundPrimary};\n    padding: 1rem;\n\n    max-height: 100%;\n    overflow: auto;\n\n    &::-webkit-scrollbar {\n        display: none;\n    }\n`;\n\nconst StyledSheetHandle = styled.div`\n    width: 4rem;\n    padding: 0.25rem 0;\n    opacity: 0.65;\n    align-self: center;\n\n    &::before {\n        content: '';\n        display: block;\n        border-radius: 0.625rem;\n        background-color: ${primary};\n        height: 0.25rem;\n    }\n`;\n\n/**\n * Открывает окно-шторку поверх основного экрана.\n * Только для СберБанк Онлайн и Сбер Салют.\n */\nexport const Sheet: React.FC<React.PropsWithChildren<SheetProps>> = ({\n    isOpen,\n    children,\n    onClose,\n    withOverlay = true,\n    ...restProps\n}) => {\n    const contentWrapperRef = React.useRef<HTMLDivElement>(null);\n    const handleRef = React.useRef<HTMLDivElement>(null);\n\n    useSheetSwipe({ contentWrapperRef, handleRef, onClose });\n\n    return (\n        <StyledWrapper isOpen={isOpen} {...restProps}>\n            <StyledContentWrapper isOpen={isOpen} ref={contentWrapperRef}>\n                <StyledSheetHandle ref={handleRef} />\n                <StyledSheetContent>{children}</StyledSheetContent>\n            </StyledContentWrapper>\n            {withOverlay && <StyledOverlay onClick={onClose} />}\n        </StyledWrapper>\n    );\n};\n"],"file":"Sheet.js"}
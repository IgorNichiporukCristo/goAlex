{"version":3,"sources":["../../src/components/Carousel/Carousel.examples.tsx"],"names":["scaleDelta","StyledColInner","styled","div","theme","lowPerformance","StyledMusicCard","MusicCard","scaleResetCallback","itemEl","children","inner","card","style","transform","scaleCallback","slot","absSlot","Math","abs","scaleSlot","cardScale","cardOffset","offsetHeight","innerOffset","min","sign","offsetWidth","ScalingColCard","isActive","scrollSnapAlign","item","rest","title","imageSrc"],"mappings":"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","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\n\nimport { MusicCard } from '../Card/Card.examples';\n\nimport { CarouselCol, CarouselItemProps } from '.';\n\nconst scaleDelta = 0.37;\n\nconst StyledColInner = styled.div`\n    transition: ${({ theme }) => (theme.lowPerformance ? 'unset' : 'transform 0.1s ease 0s')};\n`;\n\nconst StyledMusicCard = styled(MusicCard)`\n    transition: ${({ theme }) => (theme.lowPerformance ? 'unset' : 'transform 0.1s ease 0s')};\n`;\n\n/**\n * Функция сброса стилей элементов вне вьюпорта\n */\nexport const scaleResetCallback = (itemEl: HTMLDivElement) => {\n    if (itemEl.children[0]) {\n        const inner = itemEl.children[0] as HTMLDivElement;\n        const card = inner.children[0] as HTMLDivElement;\n        inner.style.transform = '';\n        card.style.transform = '';\n    }\n};\n\n/**\n * Функция увеличения центрального элемента\n */\nexport const scaleCallback = (itemEl: HTMLDivElement, slot: number) => {\n    const absSlot = Math.abs(slot);\n    const scaleSlot = 1 - absSlot;\n    /**\n     * Чем ближе к центру - тем больше\n     */\n    const cardScale = absSlot <= 1 ? 1 + scaleDelta * scaleSlot : 1;\n    const cardOffset = ((absSlot <= 1 ? scaleDelta * scaleSlot : 0) * itemEl.offsetHeight) / -3;\n    /**\n     * Чем дальше от центра - тем больше прозрачности\n     */\n    const innerOffset = (scaleDelta * Math.min(absSlot, 1) * Math.sign(slot) * itemEl.offsetWidth) / 2;\n\n    if (itemEl.children[0]) {\n        const inner = itemEl.children[0] as HTMLDivElement;\n        const card = inner.children[0] as HTMLDivElement;\n        inner.style.transform = `translate3d(${innerOffset}px,0,0)`;\n        card.style.transform = `scale(${cardScale}) translate3d(0,${cardOffset}px,0)`;\n    }\n};\n\nexport interface ScalingColCardProps extends Omit<CarouselItemProps, 'size' | 'sizeM'> {\n    isActive: boolean;\n    item: {\n        title: string;\n        imageSrc: string;\n    };\n}\n\nexport const ScalingColCard: React.FC<ScalingColCardProps> = ({ isActive, scrollSnapAlign, item, ...rest }) => (\n    <CarouselCol size={2} sizeM={1.5} scrollSnapAlign={scrollSnapAlign} {...rest}>\n        <StyledColInner>\n            <StyledMusicCard\n                title={item.title}\n                focused={isActive}\n                imageSrc={item.imageSrc}\n                imageRatio=\"1 / 1\"\n                textAlign=\"center\"\n            />\n        </StyledColInner>\n    </CarouselCol>\n);\n"],"file":"Carousel.examples.js"}
"use strict";

var _react = /*#__PURE__*/_interopRequireDefault( /*#__PURE__*/require("react"));

var _plasmaCyUtils = /*#__PURE__*/require("@sberdevices/plasma-cy-utils");

var _Card = /*#__PURE__*/require("../Card/Card.examples");

var _Carousel = /*#__PURE__*/require("./Carousel.examples");

var _ = /*#__PURE__*/require(".");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

var image = 'data:image/jpeg;base64,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';
var items = [{
  title: 'Каждый',
  subtitle: 'Each',
  imageSrc: image
}, {
  title: 'Охотник',
  subtitle: 'Hunter',
  imageSrc: image
}, {
  title: 'Желает',
  subtitle: 'Whants',
  imageSrc: image
}, {
  title: 'Знать',
  subtitle: 'To know',
  imageSrc: image
}, {
  title: 'Где',
  subtitle: 'Where',
  imageSrc: image
}, {
  title: 'Сидит',
  subtitle: 'Is',
  imageSrc: image
}, {
  title: 'Фазан',
  subtitle: 'The pheasant',
  imageSrc: image
}];
describe('plasma-ui: Carousel', function () {
  var Container = (0, _plasmaCyUtils.getComponent)('Container');
  var Row = (0, _plasmaCyUtils.getComponent)('Row');
  var Carousel = (0, _plasmaCyUtils.getComponent)('Carousel');
  var CarouselGridWrapper = (0, _plasmaCyUtils.getComponent)('CarouselGridWrapper');
  var CarouselCol = (0, _plasmaCyUtils.getComponent)('CarouselCol');
  var CarouselItem = (0, _plasmaCyUtils.getComponent)('CarouselItem');
  var Body3 = (0, _plasmaCyUtils.getComponent)('Body3');

  var CarouselDecorator = function CarouselDecorator(_ref) {
    var children = _ref.children;
    return /*#__PURE__*/_react["default"].createElement(_plasmaCyUtils.CypressTestDecorator, null, /*#__PURE__*/_react["default"].createElement(Container, null, children));
  };

  var AnimatedCarouselX = function AnimatedCarouselX() {
    var _useRemoteHandlers = (0, _.useRemoteHandlers)({
      initialIndex: 0,
      axis: 'x',
      delay: 30,
      longDelay: 150,
      min: 0,
      max: items.length - 1
    }),
        _useRemoteHandlers2 = _slicedToArray(_useRemoteHandlers, 2),
        index = _useRemoteHandlers2[0],
        setIndex = _useRemoteHandlers2[1];

    return /*#__PURE__*/_react["default"].createElement(CarouselGridWrapper, null, /*#__PURE__*/_react["default"].createElement(Carousel, {
      as: Row,
      axis: "x",
      index: index,
      detectActive: true,
      detectThreshold: 0.5,
      animatedScrollByIndex: true,
      onIndexChange: function onIndexChange(i) {
        return setIndex(i);
      },
      scrollSnapType: "none",
      style: {
        paddingTop: '1.25rem',
        paddingBottom: '1.25rem'
      }
    }, items.map(function (_ref2, i) {
      var title = _ref2.title,
          subtitle = _ref2.subtitle,
          imageSrc = _ref2.imageSrc;
      return /*#__PURE__*/_react["default"].createElement(CarouselCol, {
        key: "item:".concat(i),
        size: 3,
        sizeXL: 4
      }, /*#__PURE__*/_react["default"].createElement(_Card.ProductCard, {
        title: title,
        subtitle: subtitle,
        focused: i === index,
        imageSrc: imageSrc
      }));
    })));
  };

  var AnimatedCarouselY = function AnimatedCarouselY() {
    var _useRemoteHandlers3 = (0, _.useRemoteHandlers)({
      initialIndex: 0,
      axis: 'y',
      delay: 30,
      longDelay: 150,
      min: 0,
      max: items.length - 1
    }),
        _useRemoteHandlers4 = _slicedToArray(_useRemoteHandlers3, 2),
        index = _useRemoteHandlers4[0],
        setIndex = _useRemoteHandlers4[1];

    return /*#__PURE__*/_react["default"].createElement(Carousel, {
      as: Row,
      axis: "y",
      index: index,
      paddingStart: "50%",
      paddingEnd: "50%",
      detectActive: true,
      detectThreshold: 0.5,
      animatedScrollByIndex: true,
      onIndexChange: function onIndexChange(i) {
        return setIndex(i);
      },
      scrollSnapType: "none",
      style: {
        height: '100vh',
        maxHeight: '40rem',
        width: '100%',
        maxWidth: '22.5rem',
        margin: '0 auto',
        padding: '0.75rem'
      }
    }, items.map(function (_ref3, i) {
      var title = _ref3.title,
          subtitle = _ref3.subtitle,
          imageSrc = _ref3.imageSrc;
      return /*#__PURE__*/_react["default"].createElement(CarouselItem, {
        key: "item:".concat(i),
        style: {
          padding: '0.75rem 0'
        }
      }, /*#__PURE__*/_react["default"].createElement(_Card.GalleryCard, {
        title: title,
        subtitle: subtitle,
        focused: i === index,
        imageSrc: imageSrc,
        imageRatio: "1 / 1",
        scaleOnFocus: true
      }));
    }));
  };

  it('basic', function () {
    var index = 0;
    (0, _plasmaCyUtils.mount)( /*#__PURE__*/_react["default"].createElement(CarouselDecorator, null, /*#__PURE__*/_react["default"].createElement(CarouselGridWrapper, null, /*#__PURE__*/_react["default"].createElement(Carousel, {
      as: Row,
      axis: "x",
      index: index,
      scrollSnapType: "none",
      style: {
        paddingTop: '1.25rem',
        paddingBottom: '1.25rem'
      }
    }, items.map(function (_ref4, i) {
      var title = _ref4.title,
          subtitle = _ref4.subtitle,
          imageSrc = _ref4.imageSrc;
      return /*#__PURE__*/_react["default"].createElement(CarouselCol, {
        key: "item:".concat(i),
        size: 3,
        sizeXL: 4
      }, /*#__PURE__*/_react["default"].createElement(_Card.ProductCard, {
        title: title,
        subtitle: subtitle,
        focused: i === index,
        imageSrc: imageSrc
      }));
    })))));
    cy.wait(100);
    cy.matchImageSnapshot();
  });
  it('vertical', function () {
    var index = 0;
    (0, _plasmaCyUtils.mount)( /*#__PURE__*/_react["default"].createElement(CarouselDecorator, null, /*#__PURE__*/_react["default"].createElement(Carousel, {
      as: Row,
      axis: "y",
      index: index,
      paddingStart: "50%",
      paddingEnd: "50%",
      scrollSnapType: "none",
      style: {
        height: '100vh',
        maxHeight: '40rem',
        width: '100%',
        maxWidth: '22.5rem',
        margin: '0 auto',
        padding: '0.75rem'
      }
    }, items.map(function (_ref5, i) {
      var title = _ref5.title,
          subtitle = _ref5.subtitle,
          imageSrc = _ref5.imageSrc;
      return /*#__PURE__*/_react["default"].createElement(CarouselItem, {
        key: "item:".concat(i),
        style: {
          padding: '0.75rem 0'
        }
      }, /*#__PURE__*/_react["default"].createElement(_Card.GalleryCard, {
        title: title,
        subtitle: subtitle,
        focused: i === index,
        imageSrc: imageSrc,
        imageRatio: "1 / 1",
        scaleOnFocus: true
      }));
    }))));
    cy.wait(100);
    cy.matchImageSnapshot();
  });
  it('music', function () {
    (0, _plasmaCyUtils.mount)( /*#__PURE__*/_react["default"].createElement(CarouselDecorator, null, /*#__PURE__*/_react["default"].createElement("section", {
      style: {
        margin: '1.75rem 0'
      }
    }, /*#__PURE__*/_react["default"].createElement(Body3, {
      style: {
        marginBottom: '1rem'
      }
    }, "\u041D\u043E\u0432\u044B\u0435 \u0430\u043B\u044C\u0431\u043E\u043C\u044B"), /*#__PURE__*/_react["default"].createElement(CarouselGridWrapper, null, /*#__PURE__*/_react["default"].createElement(Carousel, {
      as: Row,
      axis: "x",
      index: 0,
      scrollSnapType: "none"
    }, items.map(function (item, i) {
      return /*#__PURE__*/_react["default"].createElement(CarouselCol, {
        key: "item:".concat(i),
        size: 2,
        sizeM: 1.5
      }, /*#__PURE__*/_react["default"].createElement(_Card.MusicCard, _extends({}, item, {
        imageRatio: "1 / 1"
      })));
    })))), /*#__PURE__*/_react["default"].createElement("section", {
      style: {
        margin: '1.75rem 0'
      }
    }, /*#__PURE__*/_react["default"].createElement(Body3, {
      style: {
        marginBottom: '1rem'
      }
    }, "\u0425\u0438\u0442\u044B \u0438 \u0447\u0430\u0440\u0442\u044B"), /*#__PURE__*/_react["default"].createElement(CarouselGridWrapper, null, /*#__PURE__*/_react["default"].createElement(Carousel, {
      as: Row,
      axis: "x",
      index: 0,
      scrollSnapType: "none"
    }, items.map(function (item, i) {
      return /*#__PURE__*/_react["default"].createElement(CarouselCol, {
        key: "item:".concat(i),
        size: 4,
        sizeM: 3
      }, /*#__PURE__*/_react["default"].createElement(_Card.MusicCard, _extends({}, item, {
        imageRatio: "16 / 9"
      })));
    })))), /*#__PURE__*/_react["default"].createElement("section", {
      style: {
        margin: '1.75rem 0'
      }
    }, /*#__PURE__*/_react["default"].createElement(Body3, {
      style: {
        marginBottom: '1rem'
      }
    }, "\u0416\u0430\u043D\u0440\u044B \u0438 \u043D\u0430\u0441\u0442\u0440\u043E\u0435\u043D\u0438\u044F"), /*#__PURE__*/_react["default"].createElement(CarouselGridWrapper, null, /*#__PURE__*/_react["default"].createElement(Carousel, {
      as: Row,
      axis: "x",
      index: 0,
      scrollSnapType: "none"
    }, items.map(function (item, i) {
      return /*#__PURE__*/_react["default"].createElement(CarouselCol, {
        key: "item:".concat(i),
        size: 3,
        sizeM: 2
      }, /*#__PURE__*/_react["default"].createElement(_Card.MusicCard, _extends({}, item, {
        imageRatio: "16 / 9"
      })));
    }))))));
    cy.wait(100);
    cy.matchImageSnapshot();
  });
  it('center', function () {
    var index = 0;
    (0, _plasmaCyUtils.mount)( /*#__PURE__*/_react["default"].createElement(CarouselDecorator, null, /*#__PURE__*/_react["default"].createElement(CarouselGridWrapper, null, /*#__PURE__*/_react["default"].createElement(Carousel, {
      as: Row,
      axis: "x",
      index: index,
      detectActive: true,
      detectThreshold: 0.5,
      scaleCallback: _Carousel.scaleCallback,
      scaleResetCallback: _Carousel.scaleResetCallback,
      paddingStart: "50%",
      paddingEnd: "50%",
      scrollSnapType: "none",
      style: {
        paddingTop: '7.5rem'
      }
    }, items.map(function (item, i) {
      return /*#__PURE__*/_react["default"].createElement(_Carousel.ScalingColCard, {
        key: "item:".concat(i),
        isActive: i === index,
        item: item
      });
    })))));
    cy.get('body').type('{rightarrow}');
    cy.wait(1000);
    cy.get('body').type('{rightarrow}');
    cy.wait(1000);
    cy.get('body').type('{leftarrow}');
    cy.wait(1000);
    cy.matchImageSnapshot();
  });
  it('_scrollAlign', function () {
    var index = 0;
    var scrollAlignList = ['start', 'center', 'end', 'activeDirection'];
    (0, _plasmaCyUtils.mount)( /*#__PURE__*/_react["default"].createElement(CarouselDecorator, null, scrollAlignList.map(function (scrollAlign) {
      return /*#__PURE__*/_react["default"].createElement(CarouselGridWrapper, null, /*#__PURE__*/_react["default"].createElement(Carousel, {
        as: Row,
        axis: "x",
        index: index,
        detectActive: true,
        detectThreshold: 0.5,
        scaleCallback: _Carousel.scaleCallback,
        scaleResetCallback: _Carousel.scaleResetCallback,
        scrollAlign: scrollAlign,
        paddingStart: "50%",
        paddingEnd: "50%",
        scrollSnapType: "none",
        style: {
          paddingTop: '7.5rem'
        }
      }, items.map(function (item, i) {
        return /*#__PURE__*/_react["default"].createElement(_Carousel.ScalingColCard, {
          key: "item:".concat(i),
          isActive: i === index,
          item: item
        });
      })));
    })));
    cy.matchImageSnapshot();
  });
  it('animated X', function () {
    (0, _plasmaCyUtils.mount)( /*#__PURE__*/_react["default"].createElement(CarouselDecorator, null, /*#__PURE__*/_react["default"].createElement(AnimatedCarouselX, null)));
    cy.get('body').type('{rightarrow}');
    cy.wait(1000);
    cy.get('body').type('{rightarrow}');
    cy.wait(1000);
    cy.get('body').type('{leftarrow}');
    cy.wait(1000);
    cy.get('body').type('{enter}');
    cy.matchImageSnapshot();
  });
  it('animated Y', function () {
    (0, _plasmaCyUtils.mount)( /*#__PURE__*/_react["default"].createElement(CarouselDecorator, null, /*#__PURE__*/_react["default"].createElement(AnimatedCarouselY, null)));
    cy.get('body').type('{downarrow}');
    cy.wait(1000);
    cy.get('body').type('{downarrow}');
    cy.wait(1000);
    cy.get('body').type('{uparrow}');
    cy.wait(1000);
    cy.get('body').type('{enter}');
    cy.matchImageSnapshot();
  });
});
//# sourceMappingURL=Carousel.component-test.js.map
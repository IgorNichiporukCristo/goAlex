{"version":3,"sources":["../../src/components/Stepper/Stepper.tsx"],"names":["Stepper","value","step","min","max","disabled","pin","onChange","onFocus","onBlur","formatter","ariaLabelDecrement","ariaLabelIncrement","ariaLabelRemove","props","onLessClick","onMoreClick","isMin","isMax","isLessDisabled","isMoreDisabled","remover","showRemove","onRemove","rest","onRemoveClick","React","useCallback","e"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { IconMinus, IconPlus, IconClose } from '@sberdevices/plasma-icons';\nimport type { PickOptional } from '@sberdevices/plasma-core';\n\nimport { StepperButton, StepperButtonProps } from './StepperButton';\nimport { StepperRoot } from './StepperRoot';\nimport { StepperValue } from './StepperValue';\nimport { useStepper } from './Stepper.hooks';\nimport type { UseStepperProps } from './Stepper.hooks';\n\ninterface RemoverProps {\n    /**\n     * При достижении минимального количества, кнопка минус превратится в удалить\n     */\n    showRemove: true;\n    /**\n     * Обработчик клика по кнопке удаления\n     */\n    onRemove: React.MouseEventHandler<HTMLButtonElement>;\n}\ninterface NoRemoverProps {\n    showRemove?: false;\n}\n\nexport type StepperProps = UseStepperProps &\n    (RemoverProps | NoRemoverProps) &\n    PickOptional<StepperButtonProps, 'pin' | 'onFocus' | 'onBlur'> &\n    Omit<React.HTMLAttributes<HTMLDivElement>, 'onChange' | 'onFocus' | 'onBlur'> & {\n        /**\n         * Неактивное состояние: состояние, при котором компонент отображается, но недоступен для действий пользователя\n         */\n        disabled?: boolean;\n        /**\n         * Функция для форматирования отображаемого значения\n         */\n        formatter?: (value: number) => string;\n        /**\n         * ARIA атрибут для кнопки увеличения значения\n         */\n        ariaLabelIncrement?: string;\n        /**\n         * ARIA атрибут для кнопки удаления\n         */\n        ariaLabelRemove?: string;\n        /**\n         * ARIA атрибут для кнопки уменьшения значения\n         */\n        ariaLabelDecrement?: string;\n    };\n\n/**\n * Готовый компонент для создания счетчика, подобного ``input[type=\"range\"]``.\n */\nexport const Stepper: React.FC<StepperProps> = ({\n    value,\n    step,\n    min,\n    max,\n    disabled,\n    pin,\n    onChange,\n    onFocus,\n    onBlur,\n    formatter,\n    ariaLabelDecrement,\n    ariaLabelIncrement,\n    ariaLabelRemove,\n    ...props\n}) => {\n    const { onLessClick, onMoreClick, isMin, isMax, isLessDisabled, isMoreDisabled } = useStepper({\n        value,\n        step,\n        min,\n        max,\n        onChange,\n    });\n    const { showRemove: remover, onRemove, ...rest } = props as RemoverProps;\n    const onRemoveClick = React.useCallback((e) => onRemove?.(e), [onRemove]);\n\n    return (\n        <StepperRoot {...rest}>\n            <StepperButton\n                aria-label={isMin && remover ? ariaLabelRemove : ariaLabelDecrement}\n                disabled={disabled || (!remover && isLessDisabled)}\n                icon={\n                    isMin && remover ? <IconClose color=\"inherit\" size=\"xs\" /> : <IconMinus color=\"inherit\" size=\"xs\" />\n                }\n                view={isMin && remover ? 'critical' : 'secondary'}\n                pin={pin}\n                onClick={isMin && remover ? onRemoveClick : onLessClick}\n                onFocus={onFocus}\n                onBlur={onBlur}\n            />\n            <StepperValue value={value} disabled={disabled} showWarning={isMax} formatter={formatter} />\n            <StepperButton\n                aria-label={ariaLabelIncrement}\n                disabled={disabled || isMoreDisabled}\n                icon={<IconPlus color=\"inherit\" size=\"xs\" />}\n                pin={pin}\n                onClick={onMoreClick}\n                onFocus={onFocus}\n                onBlur={onBlur}\n            />\n        </StepperRoot>\n    );\n};\n"],"file":"Stepper.js"}
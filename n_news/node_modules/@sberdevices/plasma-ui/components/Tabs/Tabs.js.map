{"version":3,"sources":["../../src/components/Tabs/Tabs.tsx"],"names":["isAnimatedProps","props","animated","Tabs","ref","children","refs","TabItemRefs","index","rest","childrenArray","React","Children","toArray","animatedChildren","map","child","i","isValidElement","disabled"],"mappings":";;;;;;;;;AAAA;;AAGA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;AAcA,IAAMA,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAA8D;AAClF,SAAOA,KAAK,CAACC,QAAN,KAAmB,IAA1B;AACH,CAFD;AAIA;AACA;AACA;AACA;;;AACO,IAAMC,IAAI,gBAAG,uBAAsC,SAASA,IAAT,OAAsCC,GAAtC,EAA2C;AAAA,MAA3BC,QAA2B,QAA3BA,QAA2B;AAAA,MAAdJ,KAAc;;AACjG,MAAMK,IAAI,GAAG,oBAAQ;AAAA,WAAM,IAAIC,iCAAJ,EAAN;AAAA,GAAR,EAAiC,EAAjC,CAAb;;AAEA,MAAI,CAACP,eAAe,CAACC,KAAD,CAApB,EAA6B;AACzB,wBACI,gCAAC,kBAAD;AAAU,MAAA,GAAG,EAAEG;AAAf,OAAwBH,KAAxB,GACKI,QADL,CADJ;AAKH;;AAED,MAAQG,KAAR,GAA2BP,KAA3B,CAAQO,KAAR;AAAA,MAAkBC,IAAlB,4BAA2BR,KAA3B;;AACA,MAAMS,aAAa,GAAGC,kBAAMC,QAAN,CAAeC,OAAf,CAAuBR,QAAvB,CAAtB;;AACA,MAAMS,gBAAgB,GAAGJ,aAAa,CAACK,GAAd,CAAkB,UAACC,KAAD,EAAQC,CAAR,EAAc;AACrD,sBAAIN,kBAAMO,cAAN,CAAqBF,KAArB,CAAJ,EAAiC;AAC7B,0BAAO,gCAAC,gBAAD;AAAS,QAAA,QAAQ,MAAjB;AAAkB,QAAA,GAAG,EAAEC;AAAvB,SAA8BD,KAAK,CAACf,KAApC;AAA2C,QAAA,QAAQ,EAAEQ,IAAI,CAACU;AAA1D,SAAP;AACH;;AACD,WAAOH,KAAP;AACH,GALwB,CAAzB;AAOA,sBACI,gCAAC,0CAAD,CAAsB,QAAtB;AAA+B,IAAA,KAAK,EAAE;AAAEV,MAAAA,IAAI,EAAJA;AAAF;AAAtC,kBACI,gCAAC,kBAAD;AAAU,IAAA,GAAG,EAAEF;AAAf,KAAwBK,IAAxB,GACKK,gBADL,eAEI,gCAAC,sBAAD;AAAY,IAAA,KAAK,EAAEN,KAAnB;AAA0B,IAAA,QAAQ,EAAEC,IAAI,CAACU;AAAzC,IAFJ,CADJ,CADJ;AAQH,CA5BmB,CAAb","sourcesContent":["import React, { forwardRef, useMemo } from 'react';\nimport type { TabsProps as BaseProps } from '@sberdevices/plasma-core';\n\nimport { TabsView, TabsViewProps } from './TabsView';\nimport { TabItem } from './TabItem';\nimport { TabItemRefs, TabsAnimationContext } from './TabsAnimationContext';\nimport { TabsSlider } from './TabsSlider';\n\ninterface AnimatedProps {\n    animated?: true;\n    index?: number;\n}\n\ninterface UnAnimatedProps {\n    animated?: false;\n    index?: never;\n}\n\nexport type TabsProps = (AnimatedProps | UnAnimatedProps) & BaseProps & TabsViewProps;\n\nconst isAnimatedProps = (props: TabsProps): props is AnimatedProps & TabsViewProps => {\n    return props.animated === true;\n};\n\n/**\n * Контейнер вкладок со слайдером\n */\n// eslint-disable-next-line prefer-arrow-callback\nexport const Tabs = forwardRef<HTMLDivElement, TabsProps>(function Tabs({ children, ...props }, ref) {\n    const refs = useMemo(() => new TabItemRefs(), []);\n\n    if (!isAnimatedProps(props)) {\n        return (\n            <TabsView ref={ref} {...props}>\n                {children}\n            </TabsView>\n        );\n    }\n\n    const { index, ...rest } = props;\n    const childrenArray = React.Children.toArray(children);\n    const animatedChildren = childrenArray.map((child, i) => {\n        if (React.isValidElement(child)) {\n            return <TabItem animated key={i} {...child.props} disabled={rest.disabled} />;\n        }\n        return child;\n    });\n\n    return (\n        <TabsAnimationContext.Provider value={{ refs }}>\n            <TabsView ref={ref} {...rest}>\n                {animatedChildren}\n                <TabsSlider index={index} disabled={rest.disabled} />\n            </TabsView>\n        </TabsAnimationContext.Provider>\n    );\n});\n"],"file":"Tabs.js"}
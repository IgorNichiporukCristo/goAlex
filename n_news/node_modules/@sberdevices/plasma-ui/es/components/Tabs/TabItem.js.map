{"version":3,"sources":["../../../src/components/Tabs/TabItem.tsx"],"names":["React","useRef","useEffect","styled","css","TabItem","BaseTabItem","button2","buttonFocused","useTabsAnimationContext","StyledSlider","activeItemStyle","StyledTabItem","theme","lowPerformance","disabled","animated","isActive","props","ref","refs","register","unregister"],"mappings":";;AAAA,OAAOA,KAAP,IAAoBC,MAApB,EAA4BC,SAA5B,QAA6C,OAA7C;AACA,OAAOC,MAAP,IAAiBC,GAAjB,QAA4B,mBAA5B;AACA,SAASC,OAAO,IAAIC,WAApB,EAAiCC,OAAjC,EAA0CC,aAA1C,QAA+D,0BAA/D;AAGA,SAASC,uBAAT,QAAwC,wBAAxC;AACA,SAASC,YAAT,EAAuBC,eAAvB,QAA8C,cAA9C;;AAMA;AACA;AACA;AACA,OAAO,IAAMC,aAAa,gBAAGT,MAAM,CAACG,WAAD,CAAT;AAAA;AAAA,gtBACpBC,OADoB,EAeR;AAAA,MAAGM,KAAH,QAAGA,KAAH;AAAA,SACVA,KAAK,CAACC,cAAN,GAAuB,OAAvB,GAAiC,+DADvB;AAAA,CAfQ,EAqBTJ,YArBS,EAsBL;AAAA,MAAGK,QAAH,SAAGA,QAAH;AAAA,SAAmBA,QAAQ,GAAG,MAAH,GAAY,aAAvC;AAAA,CAtBK,EA4BpB;AAAA,MAAGC,QAAH,SAAGA,QAAH;AAAA,MAAaC,QAAb,SAAaA,QAAb;AAAA,SACE,CAACD,QAAD,IACAC,QADA,IAEAb,GAFA,WAGMO,eAHN,CADF;AAAA,CA5BoB,EAkDJ;AAAA,MAAGE,KAAH,SAAGA,KAAH;AAAA,SAAgBA,KAAK,CAACC,cAAN,GAAuB,OAAvB,GAAiC,6BAAjD;AAAA,CAlDI,EA0DmCN,aA1DnC,CAAnB;AA+DP;AACA;AACA;;AACA,OAAO,IAAMH,OAAyB,GAAG,SAA5BA,OAA4B,CAACa,KAAD,EAAW;AAChD,MAAMC,GAAG,GAAGlB,MAAM,CAAc,IAAd,CAAlB;;AACA,8BAAiBQ,uBAAuB,EAAxC;AAAA,MAAQW,IAAR,yBAAQA,IAAR;;AAEAlB,EAAAA,SAAS,CAAC,YAAM;AACZkB,IAAAA,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEC,QAAN,CAAeF,GAAf;AACA,WAAO;AAAA,aAAMC,IAAN,aAAMA,IAAN,uBAAMA,IAAI,CAAEE,UAAN,CAAiBH,GAAjB,CAAN;AAAA,KAAP;AACH,GAHQ,EAGN,CAACC,IAAD,CAHM,CAAT;AAKA,sBAAO,oBAAC,aAAD;AAAe,IAAA,GAAG,EAAED;AAApB,KAA6BD,KAA7B,EAAP;AACH,CAVM","sourcesContent":["import React, { FC, useRef, useEffect } from 'react';\nimport styled, { css } from 'styled-components';\nimport { TabItem as BaseTabItem, button2, buttonFocused } from '@sberdevices/plasma-core';\nimport type { TabItemProps as BaseTabItemProps, AsProps } from '@sberdevices/plasma-core';\n\nimport { useTabsAnimationContext } from './TabsAnimationContext';\nimport { StyledSlider, activeItemStyle } from './TabsSlider';\n\nexport interface TabItemProps extends AsProps, BaseTabItemProps {\n    animated?: boolean;\n}\n\n/**\n * Элемент списка, недопустимо использовать вне компонента Tabs.\n */\nexport const StyledTabItem = styled(BaseTabItem)<TabItemProps>`\n    ${button2};\n\n    position: relative;\n\n    /**\n    * Определенные на компоненте Tabs css vars используем тут,\n    * потому что у айтемов нет свойства size,\n    * чтобы не приходилось передавать кучу пропсов\n    * на компонентах контейнере (Tabs) и элементах (TabItem).\n    */\n    height: var(--tab-item-height);\n    padding: var(--tab-item-padding-y) var(--tab-item-padding-x);\n\n    border-radius: var(--tab-item-border-radius);\n    transition: ${({ theme }) =>\n        theme.lowPerformance ? 'unset' : 'background-color 0.3s ease-in-out, transform 0.1s ease-in-out'};\n\n    /**\n    * При нажатии слайдер также прожимается\n    */\n    &:active ~ ${StyledSlider} {\n        transform: ${({ disabled }) => (disabled ? 'none' : 'scale(0.96)')};\n    }\n\n    /**\n    * Если анимация отключена\n    */\n    ${({ animated, isActive }) =>\n        !animated &&\n        isActive &&\n        css`\n            ${activeItemStyle}\n        `}\n\n    &::before {\n        content: '';\n\n        position: absolute;\n        top: calc(var(--tab-focus-border-size) * -1);\n        left: calc(var(--tab-focus-border-size) * -1);\n        right: calc(var(--tab-focus-border-size) * -1);\n        bottom: calc(var(--tab-focus-border-size) * -1);\n\n        display: block;\n        box-sizing: content-box;\n\n        border: var(--tab-focus-border-size) solid transparent;\n        border-radius: var(--tab-item-outline-radius);\n\n        transition: ${({ theme }) => (theme.lowPerformance ? 'unset' : 'box-shadow 0.2s ease-in-out')};\n\n        pointer-events: none;\n    }\n\n    &.focus-visible,\n    &[data-focus-visible-added] {\n        &::before {\n            box-shadow: 0 0 0 var(--tab-focus-border-size) ${buttonFocused};\n        }\n    }\n`;\n\n/**\n * Элемент списка вкладок, недопустимо использовать вне компонента Tabs.\n */\nexport const TabItem: FC<TabItemProps> = (props) => {\n    const ref = useRef<HTMLElement>(null);\n    const { refs } = useTabsAnimationContext();\n\n    useEffect(() => {\n        refs?.register(ref);\n        return () => refs?.unregister(ref);\n    }, [refs]);\n\n    return <StyledTabItem ref={ref} {...props} />;\n};\n"],"file":"TabItem.js"}
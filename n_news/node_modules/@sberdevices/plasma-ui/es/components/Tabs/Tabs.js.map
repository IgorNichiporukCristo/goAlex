{"version":3,"sources":["../../../src/components/Tabs/Tabs.tsx"],"names":["React","forwardRef","useMemo","TabsView","TabItem","TabItemRefs","TabsAnimationContext","TabsSlider","isAnimatedProps","props","animated","Tabs","ref","children","refs","index","rest","childrenArray","Children","toArray","animatedChildren","map","child","i","isValidElement","disabled"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,OAA5B,QAA2C,OAA3C;AAGA,SAASC,QAAT,QAAwC,YAAxC;AACA,SAASC,OAAT,QAAwB,WAAxB;AACA,SAASC,WAAT,EAAsBC,oBAAtB,QAAkD,wBAAlD;AACA,SAASC,UAAT,QAA2B,cAA3B;;AAcA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAA8D;AAClF,SAAOA,KAAK,CAACC,QAAN,KAAmB,IAA1B;AACH,CAFD;AAIA;AACA;AACA;AACA;;;AACA,OAAO,IAAMC,IAAI,gBAAGV,UAAU,CAA4B,SAASU,IAAT,OAAsCC,GAAtC,EAA2C;AAAA,MAA3BC,QAA2B,QAA3BA,QAA2B;AAAA,MAAdJ,KAAc;;AACjG,MAAMK,IAAI,GAAGZ,OAAO,CAAC;AAAA,WAAM,IAAIG,WAAJ,EAAN;AAAA,GAAD,EAA0B,EAA1B,CAApB;;AAEA,MAAI,CAACG,eAAe,CAACC,KAAD,CAApB,EAA6B;AACzB,wBACI,oBAAC,QAAD;AAAU,MAAA,GAAG,EAAEG;AAAf,OAAwBH,KAAxB,GACKI,QADL,CADJ;AAKH;;AAED,MAAQE,KAAR,GAA2BN,KAA3B,CAAQM,KAAR;AAAA,MAAkBC,IAAlB,4BAA2BP,KAA3B;;AACA,MAAMQ,aAAa,GAAGjB,KAAK,CAACkB,QAAN,CAAeC,OAAf,CAAuBN,QAAvB,CAAtB;AACA,MAAMO,gBAAgB,GAAGH,aAAa,CAACI,GAAd,CAAkB,UAACC,KAAD,EAAQC,CAAR,EAAc;AACrD,sBAAIvB,KAAK,CAACwB,cAAN,CAAqBF,KAArB,CAAJ,EAAiC;AAC7B,0BAAO,oBAAC,OAAD;AAAS,QAAA,QAAQ,MAAjB;AAAkB,QAAA,GAAG,EAAEC;AAAvB,SAA8BD,KAAK,CAACb,KAApC;AAA2C,QAAA,QAAQ,EAAEO,IAAI,CAACS;AAA1D,SAAP;AACH;;AACD,WAAOH,KAAP;AACH,GALwB,CAAzB;AAOA,sBACI,oBAAC,oBAAD,CAAsB,QAAtB;AAA+B,IAAA,KAAK,EAAE;AAAER,MAAAA,IAAI,EAAJA;AAAF;AAAtC,kBACI,oBAAC,QAAD;AAAU,IAAA,GAAG,EAAEF;AAAf,KAAwBI,IAAxB,GACKI,gBADL,eAEI,oBAAC,UAAD;AAAY,IAAA,KAAK,EAAEL,KAAnB;AAA0B,IAAA,QAAQ,EAAEC,IAAI,CAACS;AAAzC,IAFJ,CADJ,CADJ;AAQH,CA5B6B,CAAvB","sourcesContent":["import React, { forwardRef, useMemo } from 'react';\nimport type { TabsProps as BaseProps } from '@sberdevices/plasma-core';\n\nimport { TabsView, TabsViewProps } from './TabsView';\nimport { TabItem } from './TabItem';\nimport { TabItemRefs, TabsAnimationContext } from './TabsAnimationContext';\nimport { TabsSlider } from './TabsSlider';\n\ninterface AnimatedProps {\n    animated?: true;\n    index?: number;\n}\n\ninterface UnAnimatedProps {\n    animated?: false;\n    index?: never;\n}\n\nexport type TabsProps = (AnimatedProps | UnAnimatedProps) & BaseProps & TabsViewProps;\n\nconst isAnimatedProps = (props: TabsProps): props is AnimatedProps & TabsViewProps => {\n    return props.animated === true;\n};\n\n/**\n * Контейнер вкладок со слайдером\n */\n// eslint-disable-next-line prefer-arrow-callback\nexport const Tabs = forwardRef<HTMLDivElement, TabsProps>(function Tabs({ children, ...props }, ref) {\n    const refs = useMemo(() => new TabItemRefs(), []);\n\n    if (!isAnimatedProps(props)) {\n        return (\n            <TabsView ref={ref} {...props}>\n                {children}\n            </TabsView>\n        );\n    }\n\n    const { index, ...rest } = props;\n    const childrenArray = React.Children.toArray(children);\n    const animatedChildren = childrenArray.map((child, i) => {\n        if (React.isValidElement(child)) {\n            return <TabItem animated key={i} {...child.props} disabled={rest.disabled} />;\n        }\n        return child;\n    });\n\n    return (\n        <TabsAnimationContext.Provider value={{ refs }}>\n            <TabsView ref={ref} {...rest}>\n                {animatedChildren}\n                <TabsSlider index={index} disabled={rest.disabled} />\n            </TabsView>\n        </TabsAnimationContext.Provider>\n    );\n});\n"],"file":"Tabs.js"}
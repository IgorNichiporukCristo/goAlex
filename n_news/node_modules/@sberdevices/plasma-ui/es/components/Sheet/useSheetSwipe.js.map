{"version":3,"sources":["../../../src/components/Sheet/useSheetSwipe.ts"],"names":["React","useSheetSwipe","args","contentWrapperRef","handleRef","onClose","useEffect","current","handleEl","contentWrapperEl","curtainHeight","offsetHeight","startY","currentY","onTouchStart","event","changedTouches","clientY","style","transition","onTouchMove","Math","max","transform","onTouchEnd","endY","offsetY","addEventListener","removeEventListener"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,IAAD,EAIvB;AACF,MAAQC,iBAAR,GAAkDD,IAAlD,CAAQC,iBAAR;AAAA,MAA2BC,SAA3B,GAAkDF,IAAlD,CAA2BE,SAA3B;AAAA,MAAsCC,OAAtC,GAAkDH,IAAlD,CAAsCG,OAAtC;AAEAL,EAAAA,KAAK,CAACM,SAAN,CAAgB,YAAM;AAClB,QAAI,CAACF,SAAS,CAACG,OAAX,IAAsB,CAACJ,iBAAiB,CAACI,OAA7C,EAAsD;AAClD;AACH;;AACD,QAAMC,QAAQ,GAAGJ,SAAS,CAACG,OAA3B;AACA,QAAME,gBAAgB,GAAGN,iBAAiB,CAACI,OAA3C;AAEA,QAAMG,aAAa,GAAGD,gBAAgB,CAACE,YAAvC;AAEA,QAAIC,MAAJ;AACA,QAAIC,QAAJ;;AAEA,QAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD,EAAuB;AACxCH,MAAAA,MAAM,GAAGG,KAAK,CAACC,cAAN,CAAqB,CAArB,EAAwBC,OAAjC;AACAJ,MAAAA,QAAQ,GAAGD,MAAX;AACAH,MAAAA,gBAAgB,CAACS,KAAjB,CAAuBC,UAAvB,GAAoC,MAApC;AACH,KAJD;;AAMA,QAAMC,WAAW,GAAG,SAAdA,WAAc,CAACL,KAAD,EAAuB;AACvC,UAAQE,OAAR,GAAoBF,KAAK,CAACC,cAAN,CAAqB,CAArB,CAApB,CAAQC,OAAR;AACAJ,MAAAA,QAAQ,GAAGQ,IAAI,CAACC,GAAL,CAASV,MAAT,EAAiBK,OAAjB,CAAX;AACAR,MAAAA,gBAAgB,CAACS,KAAjB,CAAuBK,SAAvB,wBAAiDV,QAAQ,GAAGD,MAA5D;AACH,KAJD;;AAMA,QAAMY,UAAU,GAAG,SAAbA,UAAa,CAACT,KAAD,EAAuB;AACtC,UAAMU,IAAI,GAAGV,KAAK,CAACC,cAAN,CAAqB,CAArB,EAAwBC,OAArC;AACA,UAAMS,OAAO,GAAGD,IAAI,GAAGb,MAAvB;AAEAH,MAAAA,gBAAgB,CAACS,KAAjB,CAAuBK,SAAvB,GAAmC,EAAnC;AACAd,MAAAA,gBAAgB,CAACS,KAAjB,CAAuBC,UAAvB,GAAoC,EAApC;;AAEA,UAAIO,OAAO,GAAGhB,aAAV,GAA0B,GAA9B,EAAmC;AAC/BL,QAAAA,OAAO;AACV;AACJ,KAVD;;AAYAG,IAAAA,QAAQ,CAACmB,gBAAT,CAA0B,YAA1B,EAAwCb,YAAxC;AACAN,IAAAA,QAAQ,CAACmB,gBAAT,CAA0B,WAA1B,EAAuCP,WAAvC;AACAZ,IAAAA,QAAQ,CAACmB,gBAAT,CAA0B,UAA1B,EAAsCH,UAAtC;AAEA,WAAO,YAAM;AACThB,MAAAA,QAAQ,CAACoB,mBAAT,CAA6B,YAA7B,EAA2Cd,YAA3C;AACAN,MAAAA,QAAQ,CAACoB,mBAAT,CAA6B,WAA7B,EAA0CR,WAA1C;AACAZ,MAAAA,QAAQ,CAACoB,mBAAT,CAA6B,UAA7B,EAAyCJ,UAAzC;AACH,KAJD;AAKH,GA7CD,EA6CG,EA7CH;AA8CH,CArDM","sourcesContent":["import React from 'react';\n\nexport const useSheetSwipe = (args: {\n    contentWrapperRef: React.RefObject<HTMLDivElement>;\n    handleRef: React.RefObject<HTMLDivElement>;\n    onClose: () => void;\n}) => {\n    const { contentWrapperRef, handleRef, onClose } = args;\n\n    React.useEffect(() => {\n        if (!handleRef.current || !contentWrapperRef.current) {\n            return;\n        }\n        const handleEl = handleRef.current;\n        const contentWrapperEl = contentWrapperRef.current;\n\n        const curtainHeight = contentWrapperEl.offsetHeight;\n\n        let startY: number;\n        let currentY: number;\n\n        const onTouchStart = (event: TouchEvent) => {\n            startY = event.changedTouches[0].clientY;\n            currentY = startY;\n            contentWrapperEl.style.transition = 'none';\n        };\n\n        const onTouchMove = (event: TouchEvent) => {\n            const { clientY } = event.changedTouches[0];\n            currentY = Math.max(startY, clientY);\n            contentWrapperEl.style.transform = `translateY(${currentY - startY}px)`;\n        };\n\n        const onTouchEnd = (event: TouchEvent) => {\n            const endY = event.changedTouches[0].clientY;\n            const offsetY = endY - startY;\n\n            contentWrapperEl.style.transform = '';\n            contentWrapperEl.style.transition = '';\n\n            if (offsetY / curtainHeight > 0.2) {\n                onClose();\n            }\n        };\n\n        handleEl.addEventListener('touchstart', onTouchStart);\n        handleEl.addEventListener('touchmove', onTouchMove);\n        handleEl.addEventListener('touchend', onTouchEnd);\n\n        return () => {\n            handleEl.removeEventListener('touchstart', onTouchStart);\n            handleEl.removeEventListener('touchmove', onTouchMove);\n            handleEl.removeEventListener('touchend', onTouchEnd);\n        };\n    }, []);\n};\n"],"file":"useSheetSwipe.js"}
{"version":3,"sources":["../../../src/components/Sheet/Sheet.tsx"],"names":["React","styled","css","overlay","primary","backgroundPrimary","useSheetSwipe","StyledWrapper","div","theme","lowPerformance","isOpen","StyledContentWrapper","StyledOverlay","StyledSheetContent","StyledSheetHandle","Sheet","children","onClose","withOverlay","restProps","contentWrapperRef","useRef","handleRef"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,IAAiBC,GAAjB,QAA4B,mBAA5B;AACA,SAASC,OAAT,EAAkBC,OAAlB,EAA2BC,iBAA3B,QAAoD,4BAApD;AAEA,SAASC,aAAT,QAA8B,iBAA9B;AAoBA,IAAMC,aAAa,gBAAGN,MAAM,CAACO,GAAV;AAAA;AAAA,iGAOD;AAAA,MAAGC,KAAH,QAAGA,KAAH;AAAA,SAAgBA,KAAK,CAACC,cAAN,GAAuB,OAAvB,GAAiC,eAAjD;AAAA,CAPC,EAUb;AAAA,MAAGC,MAAH,SAAGA,MAAH;AAAA,SACE,CAACA,MAAD,IACAT,GADA,kCADF;AAAA,CAVa,CAAnB;AAkBA,IAAMU,oBAAoB,gBAAGX,MAAM,CAACO,GAAV;AAAA;AAAA,gKAYR;AAAA,MAAGC,KAAH,SAAGA,KAAH;AAAA,SAAgBA,KAAK,CAACC,cAAN,GAAuB,OAAvB,GAAiC,gBAAjD;AAAA,CAZQ,EAcpB;AAAA,MAAGC,MAAH,SAAGA,MAAH;AAAA,SACE,CAACA,MAAD,IACAT,GADA,iCADF;AAAA,CAdoB,CAA1B;AAqBA,IAAMW,aAAa,gBAAGZ,MAAM,CAACO,GAAV;AAAA;AAAA,qFAOKL,OAPL,CAAnB;AAUA,IAAMW,kBAAkB,gBAAGb,MAAM,CAACO,GAAV;AAAA;AAAA,6IAEAH,iBAFA,CAAxB;AAaA,IAAMU,iBAAiB,gBAAGd,MAAM,CAACO,GAAV;AAAA;AAAA,qKAUKJ,OAVL,CAAvB;AAeA;AACA;AACA;AACA;;AACA,OAAO,IAAMY,KAAoD,GAAG,SAAvDA,KAAuD,QAM9D;AAAA,MALFL,MAKE,SALFA,MAKE;AAAA,MAJFM,QAIE,SAJFA,QAIE;AAAA,MAHFC,OAGE,SAHFA,OAGE;AAAA,gCAFFC,WAEE;AAAA,MAFFA,WAEE,kCAFY,IAEZ;AAAA,MADCC,SACD;;AACF,MAAMC,iBAAiB,GAAGrB,KAAK,CAACsB,MAAN,CAA6B,IAA7B,CAA1B;AACA,MAAMC,SAAS,GAAGvB,KAAK,CAACsB,MAAN,CAA6B,IAA7B,CAAlB;AAEAhB,EAAAA,aAAa,CAAC;AAAEe,IAAAA,iBAAiB,EAAjBA,iBAAF;AAAqBE,IAAAA,SAAS,EAATA,SAArB;AAAgCL,IAAAA,OAAO,EAAPA;AAAhC,GAAD,CAAb;AAEA,sBACI,oBAAC,aAAD;AAAe,IAAA,MAAM,EAAEP;AAAvB,KAAmCS,SAAnC,gBACI,oBAAC,oBAAD;AAAsB,IAAA,MAAM,EAAET,MAA9B;AAAsC,IAAA,GAAG,EAAEU;AAA3C,kBACI,oBAAC,iBAAD;AAAmB,IAAA,GAAG,EAAEE;AAAxB,IADJ,eAEI,oBAAC,kBAAD,QAAqBN,QAArB,CAFJ,CADJ,EAKKE,WAAW,iBAAI,oBAAC,aAAD;AAAe,IAAA,OAAO,EAAED;AAAxB,IALpB,CADJ;AASH,CArBM","sourcesContent":["import React from 'react';\nimport styled, { css } from 'styled-components';\nimport { overlay, primary, backgroundPrimary } from '@sberdevices/plasma-tokens';\n\nimport { useSheetSwipe } from './useSheetSwipe';\n\nexport interface SheetProps extends React.HTMLAttributes<HTMLDivElement> {\n    /**\n     * Состояние шторки, открыта или скрыта\n     */\n    isOpen: boolean;\n\n    /**\n     * Обработчик закрытия шторки. Вызывается при клике по оверлею или смахиванию шторки вниз\n     */\n    onClose: () => void;\n\n    /**\n     * Наличие оверлея шторки. Если включен, то контент под шторкой перекрывается оверлеем, при нажатии на\n     * который шторка закрывается.\n     */\n    withOverlay?: boolean;\n}\n\nconst StyledWrapper = styled.div<{ isOpen: boolean }>`\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    opacity: 1;\n    transition: ${({ theme }) => (theme.lowPerformance ? 'unset' : 'all 0.5s 0.1s')};\n    z-index: 1000;\n\n    ${({ isOpen }) =>\n        !isOpen &&\n        css`\n            opacity: 0;\n            visibility: hidden;\n        `}\n`;\n\nconst StyledContentWrapper = styled.div<{ isOpen: boolean }>`\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    width: 100%;\n    max-height: 100%;\n    z-index: 1;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n\n    transition: ${({ theme }) => (theme.lowPerformance ? 'unset' : 'transform 0.5s')};\n\n    ${({ isOpen }) =>\n        !isOpen &&\n        css`\n            transform: translateY(100%);\n        `}\n`;\n\nconst StyledOverlay = styled.div`\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n\n    background-color: ${overlay};\n`;\n\nconst StyledSheetContent = styled.div`\n    border-radius: 1.5rem 1.5rem 0 0;\n    background-color: ${backgroundPrimary};\n    padding: 1rem;\n\n    max-height: 100%;\n    overflow: auto;\n\n    &::-webkit-scrollbar {\n        display: none;\n    }\n`;\n\nconst StyledSheetHandle = styled.div`\n    width: 4rem;\n    padding: 0.25rem 0;\n    opacity: 0.65;\n    align-self: center;\n\n    &::before {\n        content: '';\n        display: block;\n        border-radius: 0.625rem;\n        background-color: ${primary};\n        height: 0.25rem;\n    }\n`;\n\n/**\n * Открывает окно-шторку поверх основного экрана.\n * Только для СберБанк Онлайн и Сбер Салют.\n */\nexport const Sheet: React.FC<React.PropsWithChildren<SheetProps>> = ({\n    isOpen,\n    children,\n    onClose,\n    withOverlay = true,\n    ...restProps\n}) => {\n    const contentWrapperRef = React.useRef<HTMLDivElement>(null);\n    const handleRef = React.useRef<HTMLDivElement>(null);\n\n    useSheetSwipe({ contentWrapperRef, handleRef, onClose });\n\n    return (\n        <StyledWrapper isOpen={isOpen} {...restProps}>\n            <StyledContentWrapper isOpen={isOpen} ref={contentWrapperRef}>\n                <StyledSheetHandle ref={handleRef} />\n                <StyledSheetContent>{children}</StyledSheetContent>\n            </StyledContentWrapper>\n            {withOverlay && <StyledOverlay onClick={onClose} />}\n        </StyledWrapper>\n    );\n};\n"],"file":"Sheet.js"}
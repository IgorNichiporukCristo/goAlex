{"version":3,"sources":["../../../src/components/Checkbox/Checkbox.tsx"],"names":["React","forwardRef","styled","css","BaseboxRoot","BaseboxInput","BaseboxTrigger","BaseboxContent","BaseboxContentWrapper","BaseboxLabel","BaseboxDescription","applyDisabled","useUniqId","accent","white","secondary","transparent","IconDone","StyledRoot","StyledInput","StyledTrigger","$scaleOnInteraction","$focused","theme","lowPerformance","StyledMark","StyledContent","Checkbox","ref","id","label","description","disabled","focused","scaleOnInteraction","style","className","rest","uniqId","uniqLabelId","uniqDescriptionId","checkboxId"],"mappings":"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","sourcesContent":["import React, { forwardRef } from 'react';\nimport styled, { css } from 'styled-components';\nimport {\n    BaseboxRoot,\n    BaseboxInput,\n    BaseboxTrigger,\n    BaseboxContent,\n    BaseboxContentWrapper,\n    BaseboxLabel,\n    BaseboxDescription,\n    applyDisabled,\n    useUniqId,\n} from '@sberdevices/plasma-core';\nimport type { BaseboxProps, FocusProps, OutlinedProps } from '@sberdevices/plasma-core';\nimport { accent, white, secondary, transparent } from '@sberdevices/plasma-tokens';\n\nimport { InteractionProps } from '../../mixins';\n\nimport { IconDone } from './IconDone';\n\nexport interface CheckboxProps extends BaseboxProps, FocusProps, OutlinedProps, InteractionProps {}\n\nexport const StyledRoot = styled(BaseboxRoot)`\n    ${applyDisabled};\n\n    & + & {\n        margin-top: 1.25rem;\n    }\n`;\nexport const StyledInput = styled(BaseboxInput)`\n    /* SberBox не видит этот элемент, нужно спрятать от глаз,\n     * но сделать достаточно большим, чтобы сфокусироваться на нем. */\n    appearance: none;\n    width: 100%;\n    height: 100%;\n`;\nexport const StyledTrigger = styled(BaseboxTrigger)<{\n    $focused?: boolean;\n    $scaleOnInteraction?: boolean;\n}>`\n    --plasma-trigger-border-radius: 0.25rem;\n    --plasma-trigger-outline-radius: 0.375rem;\n\n    width: 1.25rem;\n    height: 1.25rem;\n    flex: 0 0 1.25rem;\n\n    background: ${transparent};\n    box-shadow: inset 0 0 0 0.125rem ${secondary};\n    color: ${white};\n\n    /* stylelint-disable-next-line selector-nested-pattern, selector-type-no-unknown */\n    input:checked + label & {\n        background: ${accent};\n        box-shadow: inset 0 0 0 0.125rem ${accent};\n    }\n\n    ${({ $scaleOnInteraction }) =>\n        $scaleOnInteraction &&\n        css`\n            &:hover {\n                transform: scale(1.04);\n            }\n\n            &:active {\n                transform: scale(0.96);\n            }\n        `}\n\n    ${({ $focused }) => css`\n        border-radius: var(--plasma-trigger-border-radius);\n\n        input:focus + label & {\n            box-shadow: none;\n\n            &::before {\n                box-shadow: 0 0 0 0.125rem ${accent};\n            }\n        }\n\n        &::before {\n            content: '';\n\n            position: absolute;\n            top: -0.125rem;\n            left: -0.125rem;\n            right: -0.125rem;\n            bottom: -0.125rem;\n\n            display: block;\n\n            border: 0.125rem solid transparent;\n            border-radius: var(--plasma-trigger-outline-radius);\n\n            transition: ${({ theme }) => (theme.lowPerformance ? 'unset' : 'box-shadow 0.2s ease-in-out')};\n\n            pointer-events: none;\n        }\n\n        ${$focused &&\n        css`\n            box-shadow: none;\n\n            &::before {\n                box-shadow: 0 0 0 0.125rem ${accent};\n            }\n        `}\n    `}\n`;\nconst StyledMark = styled(IconDone)`\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n\n    margin: auto;\n    width: 1rem;\n    height: 1rem;\n\n    transition: ${({ theme }) => (theme.lowPerformance ? 'unset' : 'transform 0.1s ease-in-out')};\n    transform: scale(0);\n\n    /* stylelint-disable-next-line selector-nested-pattern, selector-type-no-unknown */\n    input:checked + label ${StyledTrigger} & {\n        transform: scale(1);\n    }\n`;\nexport const StyledContent = styled(BaseboxContent)`\n    width: calc(100% - 2rem);\n`;\n\n/**\n * Флажок или *чекбокс*. Позволяет пользователю управлять параметром с двумя состояниями — ☑ включено и ☐ отключено.\n */\n// eslint-disable-next-line prefer-arrow-callback\nexport const Checkbox = forwardRef<HTMLInputElement, CheckboxProps>(function Checkbox(\n    { id, label, description, disabled, focused, scaleOnInteraction, style, className, ...rest },\n    ref,\n) {\n    const uniqId = useUniqId();\n    const uniqLabelId = useUniqId();\n    const uniqDescriptionId = useUniqId();\n    const checkboxId = id || uniqId;\n    return (\n        <StyledRoot $disabled={disabled} style={style} className={className} tabIndex={-1}>\n            <StyledInput\n                aria-labelledby={uniqLabelId}\n                aria-describedby={uniqDescriptionId}\n                id={checkboxId}\n                ref={ref}\n                type=\"checkbox\"\n                disabled={disabled}\n                {...rest}\n            />\n            <BaseboxContentWrapper htmlFor={checkboxId}>\n                <StyledTrigger $focused={focused} $scaleOnInteraction={scaleOnInteraction}>\n                    <StyledMark color=\"inherit\" size=\"xs\" />\n                </StyledTrigger>\n                {label && (\n                    <StyledContent>\n                        <BaseboxLabel as=\"span\" id={uniqLabelId}>\n                            {label}\n                        </BaseboxLabel>\n                        {description && (\n                            <BaseboxDescription mt={4} id={uniqDescriptionId}>\n                                {description}\n                            </BaseboxDescription>\n                        )}\n                    </StyledContent>\n                )}\n            </BaseboxContentWrapper>\n        </StyledRoot>\n    );\n});\n"],"file":"Checkbox.js"}
import Long from 'long';
import { SystemMessageDataType, OriginalMessageType, AppInfo, HistoryMessages, AdditionalMeta, Status, AssistantServerActionMode } from '../../typings';
import { BatchableMethods, createProtocol } from './protocol';
import { SendSystemMessageData, MetaStringified } from './methods';
export interface ClientEvents {
    voice: (voice: Uint8Array, original: OriginalMessageType) => void;
    status: (status: Status, original: OriginalMessageType) => void;
    systemMessage: (systemMessage: SystemMessageDataType, original: OriginalMessageType) => void;
    history: (historyMessages: HistoryMessages[], original: OriginalMessageType) => void;
}
export declare type SystemMessage = SystemMessageDataType & {
    messageId: string;
    messageName: OriginalMessageType[];
};
export declare const createClient: (protocol: ReturnType<typeof createProtocol>, provideMeta?: ((additionalMeta?: AdditionalMeta | undefined) => Promise<MetaStringified>) | undefined) => {
    destroy: () => void;
    init: () => Promise<void>;
    createVoiceStream: (callback: ({ messageId, sendVoice, onMessage, }: Pick<BatchableMethods, "messageId" | "sendVoice"> & {
        onMessage: (cb: (message: OriginalMessageType) => void) => () => void;
    }) => Promise<void>, additionalMeta: AdditionalMeta) => Promise<void>;
    sendData: (data: Record<string, unknown>, messageName?: string, meta?: MetaStringified | undefined) => number | Long;
    sendMeta: (sendSystemMessage: (data: SendSystemMessageData, last: boolean, params?: {
        meta?: MetaStringified | undefined;
    } | undefined) => void, additionalMeta?: AdditionalMeta | undefined) => Promise<void>;
    sendOpenAssistant: ({ isFirstSession }?: {
        isFirstSession: boolean;
    }) => Promise<SystemMessageDataType>;
    sendServerAction: (serverAction: unknown, appInfo: AppInfo, messageName?: string, mode?: AssistantServerActionMode | undefined) => Promise<number | Long | undefined>;
    sendText: (text: string, isSsml?: boolean, shouldSendDisableDubbing?: boolean | undefined, additionalMeta?: AdditionalMeta | undefined) => Promise<number | Long | undefined>;
    sendCancel: (messageId: number) => void;
    on: <K extends keyof ClientEvents>(event: K, cb: ClientEvents[K]) => () => void;
    waitForAnswer: (messageId: number | Long) => Promise<SystemMessageDataType>;
};
//# sourceMappingURL=client.d.ts.map